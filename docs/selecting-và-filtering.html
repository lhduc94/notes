<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chương 4 Selecting và Filtering | Kungfu Pandas</title>
  <meta name="description" content="Kungfu Panda" />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="Chương 4 Selecting và Filtering | Kungfu Pandas" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Kungfu Panda" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chương 4 Selecting và Filtering | Kungfu Pandas" />
  
  <meta name="twitter:description" content="Kungfu Panda" />
  

<meta name="author" content="Lê Huỳnh Đức" />


<meta name="date" content="2022-09-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Chuong-3.html"/>
<link rel="next" href="tính-toán-trên-các-phần-tử-trong-pandas.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
<link rel="stylesheet" href="css/toc.css" type="text/css" />
<link rel="stylesheet" href="css/highlight.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Kungfu Pandas</a></li>

<li class="divider"></li>
<li><a href="index.html#lời-nói-đầu" id="toc-lời-nói-đầu">Lời nói đầu<span></span></a>
<ul>
<li><a href="index.html#giới-thiệu-cuốn-sách" id="toc-giới-thiệu-cuốn-sách">Giới thiệu cuốn sách<span></span></a></li>
<li><a href="index.html#giới-thiệu-tác-giả" id="toc-giới-thiệu-tác-giả">Giới thiệu tác giả<span></span></a></li>
</ul></li>
<li><a href="cấu-trúc-và-kiểu-dữ-liệu.html#cấu-trúc-và-kiểu-dữ-liệu" id="toc-cấu-trúc-và-kiểu-dữ-liệu"><span class="toc-section-number">1</span> Cấu trúc và kiểu dữ liệu<span></span></a>
<ul>
<li><a href="cấu-trúc-và-kiểu-dữ-liệu.html#series" id="toc-series"><span class="toc-section-number">1.1</span> Series<span></span></a>
<ul>
<li><a href="cấu-trúc-và-kiểu-dữ-liệu.html#các-cách-khởi-tạo" id="toc-các-cách-khởi-tạo"><span class="toc-section-number">1.1.1</span> Các cách khởi tạo<span></span></a></li>
<li><a href="cấu-trúc-và-kiểu-dữ-liệu.html#một-số-thao-tác-cơ-bản" id="toc-một-số-thao-tác-cơ-bản"><span class="toc-section-number">1.1.2</span> Một số thao tác cơ bản<span></span></a></li>
</ul></li>
<li><a href="cấu-trúc-và-kiểu-dữ-liệu.html#cach-khoi-tao-data-frame" id="toc-cach-khoi-tao-data-frame"><span class="toc-section-number">1.2</span> DataFrame<span></span></a>
<ul>
<li><a href="cấu-trúc-và-kiểu-dữ-liệu.html#các-cách-khởi-tạo-1" id="toc-các-cách-khởi-tạo-1"><span class="toc-section-number">1.2.1</span> Các cách khởi tạo<span></span></a></li>
<li><a href="cấu-trúc-và-kiểu-dữ-liệu.html#các-hàm-khởi-tạo-thay-thế" id="toc-các-hàm-khởi-tạo-thay-thế"><span class="toc-section-number">1.2.2</span> Các hàm khởi tạo thay thế<span></span></a></li>
</ul></li>
<li><a href="cấu-trúc-và-kiểu-dữ-liệu.html#data-type-trong-pandas" id="toc-data-type-trong-pandas"><span class="toc-section-number">1.3</span> Data type trong pandas<span></span></a></li>
</ul></li>
<li><a href="nhập-xuất-trong-pandas.html#nhập-xuất-trong-pandas" id="toc-nhập-xuất-trong-pandas"><span class="toc-section-number">2</span> Nhập xuất trong pandas<span></span></a>
<ul>
<li><a href="nhập-xuất-trong-pandas.html#đọc-và-lưu-file" id="toc-đọc-và-lưu-file"><span class="toc-section-number">2.1</span> Đọc và lưu file<span></span></a>
<ul>
<li><a href="nhập-xuất-trong-pandas.html#csv-tsv" id="toc-csv-tsv"><span class="toc-section-number">2.1.1</span> csv, tsv<span></span></a></li>
<li><a href="nhập-xuất-trong-pandas.html#excel" id="toc-excel"><span class="toc-section-number">2.1.2</span> Excel<span></span></a></li>
<li><a href="nhập-xuất-trong-pandas.html#json" id="toc-json"><span class="toc-section-number">2.1.3</span> JSON<span></span></a></li>
<li><a href="nhập-xuất-trong-pandas.html#pickle" id="toc-pickle"><span class="toc-section-number">2.1.4</span> Pickle<span></span></a></li>
</ul></li>
<li><a href="nhập-xuất-trong-pandas.html#cấu-hình-pandas" id="toc-cấu-hình-pandas"><span class="toc-section-number">2.2</span> Cấu hình pandas<span></span></a></li>
</ul></li>
<li><a href="Chuong-3.html#Chuong-3" id="toc-Chuong-3"><span class="toc-section-number">3</span> Một số hàm cơ bản<span></span></a>
<ul>
<li><a href="Chuong-3.html#head-và-.tail" id="toc-head-và-.tail"><span class="toc-section-number">3.1</span> <code>.head()</code> và <code>.tail()</code><span></span></a></li>
<li><a href="Chuong-3.html#shape-và-.size" id="toc-shape-và-.size"><span class="toc-section-number">3.2</span> <code>.shape</code> và <code>.size</code><span></span></a></li>
<li><a href="Chuong-3.html#info" id="toc-info"><span class="toc-section-number">3.3</span> <code>.info()</code><span></span></a></li>
<li><a href="Chuong-3.html#describe" id="toc-describe"><span class="toc-section-number">3.4</span> <code>.describe()</code><span></span></a></li>
<li><a href="Chuong-3.html#index" id="toc-index"><span class="toc-section-number">3.5</span> <code>.index</code><span></span></a></li>
<li><a href="Chuong-3.html#memory_usage" id="toc-memory_usage"><span class="toc-section-number">3.6</span> <code>.memory_usage()</code><span></span></a></li>
<li><a href="Chuong-3.html#lấy-series-trong-pandas" id="toc-lấy-series-trong-pandas"><span class="toc-section-number">3.7</span> Lấy Series trong pandas<span></span></a></li>
<li><a href="Chuong-3.html#astype" id="toc-astype"><span class="toc-section-number">3.8</span> <code>.astype()</code><span></span></a></li>
<li><a href="Chuong-3.html#drop_duplicates" id="toc-drop_duplicates"><span class="toc-section-number">3.9</span> <code>.drop_duplicates()</code><span></span></a></li>
<li><a href="Chuong-3.html#value_counts" id="toc-value_counts"><span class="toc-section-number">3.10</span> <code>.value_counts()</code><span></span></a></li>
<li><a href="Chuong-3.html#unique-và-.nunique" id="toc-unique-và-.nunique"><span class="toc-section-number">3.11</span> <code>.unique()</code> và <code>.nunique()</code><span></span></a></li>
<li><a href="Chuong-3.html#drop" id="toc-drop"><span class="toc-section-number">3.12</span> <code>.drop()</code><span></span></a></li>
<li><a href="Chuong-3.html#rename" id="toc-rename"><span class="toc-section-number">3.13</span> <code>.rename()</code><span></span></a></li>
<li><a href="Chuong-3.html#set_index" id="toc-set_index"><span class="toc-section-number">3.14</span> <code>.set_index()</code><span></span></a></li>
<li><a href="Chuong-3.html#sort_values" id="toc-sort_values"><span class="toc-section-number">3.15</span> <code>.sort_values</code><span></span></a></li>
</ul></li>
<li><a href="selecting-và-filtering.html#selecting-và-filtering" id="toc-selecting-và-filtering"><span class="toc-section-number">4</span> Selecting và Filtering<span></span></a>
<ul>
<li><a href="selecting-và-filtering.html#sử-dụng" id="toc-sử-dụng"><span class="toc-section-number">4.1</span> Sử dụng <code>[]</code><span></span></a></li>
<li><a href="selecting-và-filtering.html#loc-và-.iloc" id="toc-loc-và-.iloc"><span class="toc-section-number">4.2</span> .loc và .iloc<span></span></a>
<ul>
<li><a href="selecting-và-filtering.html#loc" id="toc-loc"><span class="toc-section-number">4.2.1</span> .loc<span></span></a></li>
<li><a href="selecting-và-filtering.html#iloc" id="toc-iloc"><span class="toc-section-number">4.2.2</span> <code>.iloc</code><span></span></a></li>
</ul></li>
<li><a href="selecting-và-filtering.html#lọc-theo-điều-kiện" id="toc-lọc-theo-điều-kiện"><span class="toc-section-number">4.3</span> Lọc theo điều kiện<span></span></a>
<ul>
<li><a href="selecting-và-filtering.html#toán-tử-điều-kiện" id="toc-toán-tử-điều-kiện"><span class="toc-section-number">4.3.1</span> Toán tử điều kiện<span></span></a></li>
<li><a href="selecting-và-filtering.html#isin" id="toc-isin"><span class="toc-section-number">4.3.2</span> <code>.isin()</code><span></span></a></li>
<li><a href="selecting-và-filtering.html#lọc-missing-value-với-.dropna" id="toc-lọc-missing-value-với-.dropna"><span class="toc-section-number">4.3.3</span> Lọc missing value với <code>.dropna()</code><span></span></a></li>
</ul></li>
</ul></li>
<li><a href="tính-toán-trên-các-phần-tử-trong-pandas.html#tính-toán-trên-các-phần-tử-trong-pandas" id="toc-tính-toán-trên-các-phần-tử-trong-pandas"><span class="toc-section-number">5</span> Tính toán trên các phần tử trong Pandas<span></span></a>
<ul>
<li><a href="tính-toán-trên-các-phần-tử-trong-pandas.html#sử-dụng-vectorization" id="toc-sử-dụng-vectorization"><span class="toc-section-number">5.1</span> Sử dụng Vectorization<span></span></a></li>
<li><a href="tính-toán-trên-các-phần-tử-trong-pandas.html#sử-dụng-apply" id="toc-sử-dụng-apply"><span class="toc-section-number">5.2</span> Sử dụng apply<span></span></a></li>
<li><a href="tính-toán-trên-các-phần-tử-trong-pandas.html#sử-dụng-iterator" id="toc-sử-dụng-iterator"><span class="toc-section-number">5.3</span> Sử dụng iterator<span></span></a>
<ul>
<li><a href="tính-toán-trên-các-phần-tử-trong-pandas.html#iterrows" id="toc-iterrows"><span class="toc-section-number">5.3.1</span> Iterrows<span></span></a></li>
<li><a href="tính-toán-trên-các-phần-tử-trong-pandas.html#itertuple" id="toc-itertuple"><span class="toc-section-number">5.3.2</span> Itertuple<span></span></a></li>
</ul></li>
<li><a href="tính-toán-trên-các-phần-tử-trong-pandas.html#so-sánh-các-phương-pháp-lặp" id="toc-so-sánh-các-phương-pháp-lặp"><span class="toc-section-number">5.4</span> So sánh các phương pháp lặp<span></span></a></li>
<li><a href="tính-toán-trên-các-phần-tử-trong-pandas.html#xử-lý-song-song-trong-pandas" id="toc-xử-lý-song-song-trong-pandas"><span class="toc-section-number">5.5</span> Xử lý song song trong pandas<span></span></a>
<ul>
<li><a href="tính-toán-trên-các-phần-tử-trong-pandas.html#pandarallel" id="toc-pandarallel"><span class="toc-section-number">5.5.1</span> pandarallel<span></span></a></li>
</ul></li>
</ul></li>
<li><a href="các-cách-phối-hợp-nhiều-bảng-với-nhau.html#các-cách-phối-hợp-nhiều-bảng-với-nhau" id="toc-các-cách-phối-hợp-nhiều-bảng-với-nhau"><span class="toc-section-number">6</span> Các cách phối hợp nhiều bảng với nhau<span></span></a>
<ul>
<li><a href="các-cách-phối-hợp-nhiều-bảng-với-nhau.html#join" id="toc-join"><span class="toc-section-number">6.1</span> Join<span></span></a></li>
<li><a href="các-cách-phối-hợp-nhiều-bảng-với-nhau.html#merge" id="toc-merge"><span class="toc-section-number">6.2</span> Merge<span></span></a></li>
<li><a href="các-cách-phối-hợp-nhiều-bảng-với-nhau.html#concat" id="toc-concat"><span class="toc-section-number">6.3</span> Concat<span></span></a></li>
</ul></li>
<li><a href="groupby.html#groupby" id="toc-groupby"><span class="toc-section-number">7</span> Groupby<span></span></a>
<ul>
<li><a href="groupby.html#groupby-1" id="toc-groupby-1"><span class="toc-section-number">7.1</span> Groupby<span></span></a></li>
<li><a href="groupby.html#các-hàm-filtering-trong-groupby" id="toc-các-hàm-filtering-trong-groupby"><span class="toc-section-number">7.2</span> Các hàm Filtering trong Groupby<span></span></a></li>
<li><a href="groupby.html#aggregate-trong-groupby" id="toc-aggregate-trong-groupby"><span class="toc-section-number">7.3</span> Aggregate trong Groupby<span></span></a></li>
</ul></li>
<li><a href="làm-việc-với-1-số-kiểu-dữ-liệu.html#làm-việc-với-1-số-kiểu-dữ-liệu" id="toc-làm-việc-với-1-số-kiểu-dữ-liệu"><span class="toc-section-number">8</span> Làm việc với 1 số kiểu dữ liệu<span></span></a>
<ul>
<li><a href="làm-việc-với-1-số-kiểu-dữ-liệu.html#xử-lý-dữ-liệu-dạng-text" id="toc-xử-lý-dữ-liệu-dạng-text"><span class="toc-section-number">8.1</span> Xử lý dữ liệu dạng text<span></span></a></li>
<li><a href="làm-việc-với-1-số-kiểu-dữ-liệu.html#xử-lý-dữ-liệu-dạng-timestamp" id="toc-xử-lý-dữ-liệu-dạng-timestamp"><span class="toc-section-number">8.2</span> Xử lý dữ liệu dạng timestamp<span></span></a></li>
<li><a href="làm-việc-với-1-số-kiểu-dữ-liệu.html#category-trong-pandas" id="toc-category-trong-pandas"><span class="toc-section-number">8.3</span> Category trong pandas<span></span></a></li>
<li><a href="làm-việc-với-1-số-kiểu-dữ-liệu.html#xử-lý-missing-data" id="toc-xử-lý-missing-data"><span class="toc-section-number">8.4</span> Xử lý Missing data<span></span></a></li>
</ul></li>
<li><a href="một-số-kiến-thức-nâng-cao.html#một-số-kiến-thức-nâng-cao" id="toc-một-số-kiến-thức-nâng-cao"><span class="toc-section-number">9</span> Một số kiến thức nâng cao<span></span></a>
<ul>
<li><a href="một-số-kiến-thức-nâng-cao.html#multiindex" id="toc-multiindex"><span class="toc-section-number">9.1</span> MultiIndex<span></span></a></li>
<li><a href="một-số-kiến-thức-nâng-cao.html#pivot-và-merge" id="toc-pivot-và-merge"><span class="toc-section-number">9.2</span> Pivot và Merge<span></span></a></li>
<li><a href="một-số-kiến-thức-nâng-cao.html#resample" id="toc-resample"><span class="toc-section-number">9.3</span> Resample<span></span></a></li>
<li><a href="một-số-kiến-thức-nâng-cao.html#window" id="toc-window"><span class="toc-section-number">9.4</span> Window<span></span></a></li>
</ul></li>
<li><a href="anomaly-detection-project.html#anomaly-detection-project" id="toc-anomaly-detection-project"><span class="toc-section-number">10</span> Anomaly Detection Project<span></span></a></li>
<li><a href="visualize-với-matplotlib.html#visualize-với-matplotlib" id="toc-visualize-với-matplotlib"><span class="toc-section-number">11</span> Visualize với Matplotlib<span></span></a></li>
<li class="divider"></li>
<li><a href="" target="blank">Lê Huỳnh Đức</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Kungfu Pandas</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="selecting-và-filtering" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chương 4</span> Selecting và Filtering<a href="selecting-và-filtering.html#selecting-và-filtering" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="sử-dụng" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Sử dụng <code>[]</code><a href="selecting-và-filtering.html#sử-dụng" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Cú pháp <code>[]</code> là cú pháp đơn giản nhất để lấy bảng con của 1 bảng cho trước.
Với 1 <code>df</code> là 1 <code>DataFrame</code> có index là <code>region</code> và dữ liệu như sau</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb87-1"><a href="selecting-và-filtering.html#cb87-1" aria-hidden="true" tabindex="-1"></a>                         state  individuals  family_members  state_pop</span>
<span id="cb87-2"><a href="selecting-và-filtering.html#cb87-2" aria-hidden="true" tabindex="-1"></a>region                                                                </span>
<span id="cb87-3"><a href="selecting-và-filtering.html#cb87-3" aria-hidden="true" tabindex="-1"></a>East South Central     Alabama       <span class="fl">2570.0</span>           <span class="fl">864.0</span>    <span class="dv">4887681</span></span>
<span id="cb87-4"><a href="selecting-và-filtering.html#cb87-4" aria-hidden="true" tabindex="-1"></a>Pacific                 Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb87-5"><a href="selecting-và-filtering.html#cb87-5" aria-hidden="true" tabindex="-1"></a>Mountain               Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb87-6"><a href="selecting-và-filtering.html#cb87-6" aria-hidden="true" tabindex="-1"></a>West South Central    Arkansas       <span class="fl">2280.0</span>           <span class="fl">432.0</span>    <span class="dv">3009733</span></span>
<span id="cb87-7"><a href="selecting-và-filtering.html#cb87-7" aria-hidden="true" tabindex="-1"></a>Pacific             California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span>
<span id="cb87-8"><a href="selecting-và-filtering.html#cb87-8" aria-hidden="true" tabindex="-1"></a>Mountain              Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span></code></pre></div>
<p>Để chọn 1 bảng con có 2 cột <code>['state', 'family_members']</code> ta làm như sau</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb88-1"><a href="selecting-và-filtering.html#cb88-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">1</span>]: df[[<span class="st">&#39;state&#39;</span>, <span class="st">&#39;family_members&#39;</span>]]</span>
<span id="cb88-2"><a href="selecting-và-filtering.html#cb88-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">1</span>]:</span>
<span id="cb88-3"><a href="selecting-và-filtering.html#cb88-3" aria-hidden="true" tabindex="-1"></a>                         state  family_members</span>
<span id="cb88-4"><a href="selecting-và-filtering.html#cb88-4" aria-hidden="true" tabindex="-1"></a>region                                        </span>
<span id="cb88-5"><a href="selecting-và-filtering.html#cb88-5" aria-hidden="true" tabindex="-1"></a>East South Central     Alabama           <span class="fl">864.0</span></span>
<span id="cb88-6"><a href="selecting-và-filtering.html#cb88-6" aria-hidden="true" tabindex="-1"></a>Pacific                 Alaska           <span class="fl">582.0</span></span>
<span id="cb88-7"><a href="selecting-và-filtering.html#cb88-7" aria-hidden="true" tabindex="-1"></a>Mountain               Arizona          <span class="fl">2606.0</span></span>
<span id="cb88-8"><a href="selecting-và-filtering.html#cb88-8" aria-hidden="true" tabindex="-1"></a>West South Central    Arkansas           <span class="fl">432.0</span></span>
<span id="cb88-9"><a href="selecting-và-filtering.html#cb88-9" aria-hidden="true" tabindex="-1"></a>Pacific             California         <span class="fl">20964.0</span></span>
<span id="cb88-10"><a href="selecting-và-filtering.html#cb88-10" aria-hidden="true" tabindex="-1"></a>Mountain              Colorado          <span class="fl">3250.0</span></span></code></pre></div>
<p>Để lấy theo dòng ta dùng tương tự <code>Series</code></p>
<div class="sourceCode" id="cb89"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb89-1"><a href="selecting-và-filtering.html#cb89-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">2</span>]: df[:<span class="dv">3</span>]</span>
<span id="cb89-2"><a href="selecting-và-filtering.html#cb89-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">2</span>]: </span>
<span id="cb89-3"><a href="selecting-và-filtering.html#cb89-3" aria-hidden="true" tabindex="-1"></a>                      state  individuals  family_members  state_pop</span>
<span id="cb89-4"><a href="selecting-và-filtering.html#cb89-4" aria-hidden="true" tabindex="-1"></a>region                                                             </span>
<span id="cb89-5"><a href="selecting-và-filtering.html#cb89-5" aria-hidden="true" tabindex="-1"></a>East South Central  Alabama       <span class="fl">2570.0</span>           <span class="fl">864.0</span>    <span class="dv">4887681</span></span>
<span id="cb89-6"><a href="selecting-và-filtering.html#cb89-6" aria-hidden="true" tabindex="-1"></a>Pacific              Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb89-7"><a href="selecting-và-filtering.html#cb89-7" aria-hidden="true" tabindex="-1"></a>Mountain            Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb89-8"><a href="selecting-và-filtering.html#cb89-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb89-9"><a href="selecting-và-filtering.html#cb89-9" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">3</span>]: df[<span class="dv">2</span>:<span class="dv">5</span>]</span>
<span id="cb89-10"><a href="selecting-và-filtering.html#cb89-10" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">3</span>]:</span>
<span id="cb89-11"><a href="selecting-và-filtering.html#cb89-11" aria-hidden="true" tabindex="-1"></a>                         state  individuals  family_members  state_pop</span>
<span id="cb89-12"><a href="selecting-và-filtering.html#cb89-12" aria-hidden="true" tabindex="-1"></a>region                                                                </span>
<span id="cb89-13"><a href="selecting-và-filtering.html#cb89-13" aria-hidden="true" tabindex="-1"></a>Mountain               Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb89-14"><a href="selecting-và-filtering.html#cb89-14" aria-hidden="true" tabindex="-1"></a>West South Central    Arkansas       <span class="fl">2280.0</span>           <span class="fl">432.0</span>    <span class="dv">3009733</span></span>
<span id="cb89-15"><a href="selecting-và-filtering.html#cb89-15" aria-hidden="true" tabindex="-1"></a>Pacific             California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span></code></pre></div>

<div class="rmdnote">
<p><strong><em>Lưu ý:</em></strong></p>
<ul>
<li><p><code>df[['state']]</code> sẽ trả về <code>DataFrame</code> trong khi <code>df['state']</code> trả về <code>Series</code>.</p></li>
<li><p>Đối với lấy theo dòng, <code>[]</code> không lấy được theo dòng riêng biệt.</p></li>
<li><p><code>[]</code> chỉ lấy dữ liệu theo dòng hoặc cột, không thực hiện được cùng lúc cả hai thao tác.</p>
</div>
<p>Ví dụ khi gọi <code>df[3]</code> hay <code>df[[1, 2, 3]]</code> sẽ báo lỗi <code>KeyError</code></p></li>
</ul>
</div>
<div id="loc-và-.iloc" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> .loc và .iloc<a href="selecting-và-filtering.html#loc-và-.iloc" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="loc" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> .loc<a href="selecting-và-filtering.html#loc" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Phương thức <code>.loc</code> dùng để lấy dữ liệu theo cột hoặc hàng dựa theo nhãn định sẵn (Tên hàng, tên cột), ngoài ra <code>.loc</code> còn nhận các giá trị boolean.</p>
<p>Đầu vào của <code>.loc</code> có thể gồm:</p>
<ul>
<li><p>Nhãn đơn: là 1 số <code>3</code> hoặc dạng chữ <code>a</code>, lưu ý rằng số này là nhãn của <code>index</code> chứ không phải vị trí của dòng.</p></li>
<li><p>Danh sách các nhãn : <code>['a', 'b', 'c']</code></p></li>
<li><p>Đối tượng dạng slice ví dụ <code>'a':'e'</code></p></li>
<li><p>Danh sách kiểu <code>bool</code> có độ dài bằng với số lượng dòng</p></li>
<li><p><code>Series</code> dạng <code>bool</code></p></li>
<li><p><code>pd.Index</code></p></li>
</ul>
<p>Sử dụng nhãn đơn, kết quả trả về là các dòng có nhãn giống như nhãn trong <code>.loc</code></p>
<div class="sourceCode" id="cb90"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb90-1"><a href="selecting-và-filtering.html#cb90-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">4</span>]: df.loc[<span class="st">&#39;Pacific&#39;</span>]</span>
<span id="cb90-2"><a href="selecting-và-filtering.html#cb90-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">4</span>]:          </span>
<span id="cb90-3"><a href="selecting-và-filtering.html#cb90-3" aria-hidden="true" tabindex="-1"></a>              state  individuals  family_members  state_pop</span>
<span id="cb90-4"><a href="selecting-và-filtering.html#cb90-4" aria-hidden="true" tabindex="-1"></a>region                                                     </span>
<span id="cb90-5"><a href="selecting-và-filtering.html#cb90-5" aria-hidden="true" tabindex="-1"></a>Pacific      Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb90-6"><a href="selecting-và-filtering.html#cb90-6" aria-hidden="true" tabindex="-1"></a>Pacific  California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span></code></pre></div>

<div class="rmdnote">
<p><strong><em>Lưu ý:</em></strong></p>
Khi kết quả là nhiều dòng thì dữ liệu trả về có kiểu <code>DataFrame</code>, trong khi nếu chỉ có 1 dòng duy nhất thì kết quả trả về sẽ theo kiểu <code>Series</code>
</div>
<div class="sourceCode" id="cb91"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb91-1"><a href="selecting-và-filtering.html#cb91-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">5</span>]: <span class="bu">type</span>(df.loc[<span class="st">&#39;Pacific&#39;</span>])</span>
<span id="cb91-2"><a href="selecting-và-filtering.html#cb91-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">5</span>]: </span>
<span id="cb91-3"><a href="selecting-và-filtering.html#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span><span class="kw">class</span> <span class="st">&#39;pandas.core.frame.DataFrame&#39;</span><span class="op">&gt;</span></span>
<span id="cb91-4"><a href="selecting-và-filtering.html#cb91-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-5"><a href="selecting-và-filtering.html#cb91-5" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">6</span>]: <span class="bu">type</span>(df.loc[<span class="st">&#39;West South Central&#39;</span>])</span>
<span id="cb91-6"><a href="selecting-và-filtering.html#cb91-6" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">6</span>]: </span>
<span id="cb91-7"><a href="selecting-và-filtering.html#cb91-7" aria-hidden="true" tabindex="-1"></a><span class="op">&lt;</span><span class="kw">class</span> <span class="st">&#39;pandas.core.series.Series&#39;</span><span class="op">&gt;</span></span></code></pre></div>
<p>Khi đưa danh sách các nhãn dùng <code>.loc[[]]</code> thì nhãn đưa vào là nhãn của <code>index</code>. Nếu đưa tên các cột sẽ bị báo lỗi <code>KeyError</code></p>
<div class="sourceCode" id="cb92"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb92-1"><a href="selecting-và-filtering.html#cb92-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">7</span>]: df.loc[[<span class="st">&#39;Pacific&#39;</span>, <span class="st">&#39;Mountain&#39;</span>]]</span>
<span id="cb92-2"><a href="selecting-và-filtering.html#cb92-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">7</span>]:</span>
<span id="cb92-3"><a href="selecting-và-filtering.html#cb92-3" aria-hidden="true" tabindex="-1"></a>               state  individuals  family_members  state_pop</span>
<span id="cb92-4"><a href="selecting-và-filtering.html#cb92-4" aria-hidden="true" tabindex="-1"></a>region                                                      </span>
<span id="cb92-5"><a href="selecting-và-filtering.html#cb92-5" aria-hidden="true" tabindex="-1"></a>Pacific       Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb92-6"><a href="selecting-và-filtering.html#cb92-6" aria-hidden="true" tabindex="-1"></a>Pacific   California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span>
<span id="cb92-7"><a href="selecting-và-filtering.html#cb92-7" aria-hidden="true" tabindex="-1"></a>Mountain     Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb92-8"><a href="selecting-và-filtering.html#cb92-8" aria-hidden="true" tabindex="-1"></a>Mountain    Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span></code></pre></div>
<p>Để lấy nhãn đơn theo nhãn của <code>index</code> và tên <code>column</code> ta truyền vào phần nhãn của <code>index</code> trước và nhãn của <code>column</code> sau và phân biệt bởi dấu phẩy</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb93-1"><a href="selecting-và-filtering.html#cb93-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">7</span>]: df.loc[<span class="st">&#39;Pacific&#39;</span>, <span class="st">&#39;state&#39;</span>]</span>
<span id="cb93-2"><a href="selecting-và-filtering.html#cb93-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">7</span>]:</span>
<span id="cb93-3"><a href="selecting-và-filtering.html#cb93-3" aria-hidden="true" tabindex="-1"></a>region</span>
<span id="cb93-4"><a href="selecting-và-filtering.html#cb93-4" aria-hidden="true" tabindex="-1"></a>Pacific        Alaska</span>
<span id="cb93-5"><a href="selecting-và-filtering.html#cb93-5" aria-hidden="true" tabindex="-1"></a>Pacific    California</span>
<span id="cb93-6"><a href="selecting-và-filtering.html#cb93-6" aria-hidden="true" tabindex="-1"></a>Name: state, dtype: <span class="bu">object</span></span></code></pre></div>
<p>Để lấy nhiều hơn 1 nhãn của <code>index</code> hoặc nhiều hơn 1 nhãn của <code>column</code> ta chỉ cần thay thế nhãn đơn của <code>index</code> thành danh sách hoặc slice, tương tự ta có thế thay thế nhãn đơn thành danh sách hoặc slice của <code>column</code></p>
<div class="sourceCode" id="cb94"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb94-1"><a href="selecting-và-filtering.html#cb94-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">8</span>]: df.loc[<span class="st">&#39;Pacific&#39;</span>, [<span class="st">&#39;individuals&#39;</span>, <span class="st">&#39;family_members&#39;</span>]])</span>
<span id="cb94-2"><a href="selecting-và-filtering.html#cb94-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">8</span>]:</span>
<span id="cb94-3"><a href="selecting-và-filtering.html#cb94-3" aria-hidden="true" tabindex="-1"></a>         individuals  family_members</span>
<span id="cb94-4"><a href="selecting-và-filtering.html#cb94-4" aria-hidden="true" tabindex="-1"></a>region                              </span>
<span id="cb94-5"><a href="selecting-và-filtering.html#cb94-5" aria-hidden="true" tabindex="-1"></a>Pacific       <span class="fl">1434.0</span>           <span class="fl">582.0</span></span>
<span id="cb94-6"><a href="selecting-và-filtering.html#cb94-6" aria-hidden="true" tabindex="-1"></a>Pacific     <span class="fl">109008.0</span>         <span class="fl">20964.0</span></span></code></pre></div>
<div class="sourceCode" id="cb95"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb95-1"><a href="selecting-và-filtering.html#cb95-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">9</span>]: df.loc[<span class="st">&#39;Pacific&#39;</span>, <span class="st">&#39;individuals&#39;</span>:<span class="st">&#39;state_pop&#39;</span>]</span>
<span id="cb95-2"><a href="selecting-và-filtering.html#cb95-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">9</span>]:</span>
<span id="cb95-3"><a href="selecting-và-filtering.html#cb95-3" aria-hidden="true" tabindex="-1"></a>         individuals  family_members  state_pop</span>
<span id="cb95-4"><a href="selecting-và-filtering.html#cb95-4" aria-hidden="true" tabindex="-1"></a>region                                         </span>
<span id="cb95-5"><a href="selecting-và-filtering.html#cb95-5" aria-hidden="true" tabindex="-1"></a>Pacific       <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb95-6"><a href="selecting-và-filtering.html#cb95-6" aria-hidden="true" tabindex="-1"></a>Pacific     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span></code></pre></div>

<div class="rmdnote">
<p><strong><em>Lưu ý:</em></strong></p>
<ul>
<li><p>Dùng slice sẽ lấy theo thứ tự xuất hiện chứ không lấy theo thứ tự sắp xếp từ điển, như ví dụ trên thì mặc dù <code>family_members</code> &gt; <code>individuals</code> nhưng vẫn xếp sau.</p></li>
<li><p>Slice không áp dụng được cho <code>index</code> có nhãn trùng nhau, nếu dùng sẽ báo lỗi <code>KeyError: "Cannot get right slice bound for non-unique label:</code></p>
</div></li>
</ul>
<p>Danh sách dạng <code>boolean</code>, chỉ sử dụng cho <code>index</code>, không dùng cho <code>column</code></p>
<div class="sourceCode" id="cb96"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb96-1"><a href="selecting-và-filtering.html#cb96-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">10</span>]: df.loc[[<span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>]]</span>
<span id="cb96-2"><a href="selecting-và-filtering.html#cb96-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">10</span>]:</span>
<span id="cb96-3"><a href="selecting-và-filtering.html#cb96-3" aria-hidden="true" tabindex="-1"></a>                       state  individuals  family_members  state_pop</span>
<span id="cb96-4"><a href="selecting-và-filtering.html#cb96-4" aria-hidden="true" tabindex="-1"></a>region                                                              </span>
<span id="cb96-5"><a href="selecting-và-filtering.html#cb96-5" aria-hidden="true" tabindex="-1"></a>Pacific               Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb96-6"><a href="selecting-và-filtering.html#cb96-6" aria-hidden="true" tabindex="-1"></a>West South Central  Arkansas       <span class="fl">2280.0</span>           <span class="fl">432.0</span>    <span class="dv">3009733</span></span></code></pre></div>
<p>Series boolean</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb97-1"><a href="selecting-và-filtering.html#cb97-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">11</span>]: s <span class="op">=</span> pd.Series([<span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>],</span>
<span id="cb97-2"><a href="selecting-và-filtering.html#cb97-2" aria-hidden="true" tabindex="-1"></a>              index<span class="op">=</span>[<span class="st">&#39;East South Central&#39;</span>, <span class="st">&#39;Pacific&#39;</span>, <span class="st">&#39;Mountain&#39;</span>, <span class="st">&#39;West South Central&#39;</span>, <span class="st">&#39;Pacific&#39;</span>, <span class="st">&#39;Mountain&#39;</span>])</span>
<span id="cb97-3"><a href="selecting-và-filtering.html#cb97-3" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">12</span>]: df.loc[s]</span>
<span id="cb97-4"><a href="selecting-và-filtering.html#cb97-4" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">12</span>]:</span>
<span id="cb97-5"><a href="selecting-và-filtering.html#cb97-5" aria-hidden="true" tabindex="-1"></a>                       state  individuals  family_members  state_pop</span>
<span id="cb97-6"><a href="selecting-và-filtering.html#cb97-6" aria-hidden="true" tabindex="-1"></a>region                                                              </span>
<span id="cb97-7"><a href="selecting-và-filtering.html#cb97-7" aria-hidden="true" tabindex="-1"></a>Pacific               Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb97-8"><a href="selecting-và-filtering.html#cb97-8" aria-hidden="true" tabindex="-1"></a>West South Central  Arkansas       <span class="fl">2280.0</span>           <span class="fl">432.0</span>    <span class="dv">3009733</span></span></code></pre></div>
<p><code>pd.Index</code></p>
<div class="sourceCode" id="cb98"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb98-1"><a href="selecting-và-filtering.html#cb98-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">13</span>]: df.loc[pd.Index([<span class="st">&quot;Pacific&quot;</span>, <span class="st">&quot;East South Central&quot;</span>], name<span class="op">=</span><span class="st">&quot;meow&quot;</span>)]</span>
<span id="cb98-2"><a href="selecting-và-filtering.html#cb98-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">13</span>]:</span>
<span id="cb98-3"><a href="selecting-và-filtering.html#cb98-3" aria-hidden="true" tabindex="-1"></a>                         state  individuals  family_members  state_pop</span>
<span id="cb98-4"><a href="selecting-và-filtering.html#cb98-4" aria-hidden="true" tabindex="-1"></a>meow                                                                   </span>
<span id="cb98-5"><a href="selecting-và-filtering.html#cb98-5" aria-hidden="true" tabindex="-1"></a>Pacific                 Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb98-6"><a href="selecting-và-filtering.html#cb98-6" aria-hidden="true" tabindex="-1"></a>Pacific             California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span>
<span id="cb98-7"><a href="selecting-và-filtering.html#cb98-7" aria-hidden="true" tabindex="-1"></a>East South Central     Alabama       <span class="fl">2570.0</span>           <span class="fl">864.0</span>    <span class="dv">4887681</span></span></code></pre></div>
<p><strong>Select với <code>MultiIndex</code></strong></p>
<div class="sourceCode" id="cb99"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb99-1"><a href="selecting-và-filtering.html#cb99-1" aria-hidden="true" tabindex="-1"></a>                     individuals  family_members  state_pop</span>
<span id="cb99-2"><a href="selecting-và-filtering.html#cb99-2" aria-hidden="true" tabindex="-1"></a>region   state                                             </span>
<span id="cb99-3"><a href="selecting-và-filtering.html#cb99-3" aria-hidden="true" tabindex="-1"></a>Mountain Arizona          <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb99-4"><a href="selecting-và-filtering.html#cb99-4" aria-hidden="true" tabindex="-1"></a>         Colorado         <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span>
<span id="cb99-5"><a href="selecting-và-filtering.html#cb99-5" aria-hidden="true" tabindex="-1"></a>         Idaho            <span class="fl">1297.0</span>           <span class="fl">715.0</span>    <span class="dv">1750536</span></span>
<span id="cb99-6"><a href="selecting-và-filtering.html#cb99-6" aria-hidden="true" tabindex="-1"></a>Pacific  Alaska           <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb99-7"><a href="selecting-và-filtering.html#cb99-7" aria-hidden="true" tabindex="-1"></a>         California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span>
<span id="cb99-8"><a href="selecting-và-filtering.html#cb99-8" aria-hidden="true" tabindex="-1"></a>         Hawaii           <span class="fl">4131.0</span>          <span class="fl">2399.0</span>    <span class="dv">1420593</span></span></code></pre></div>
<p>Với nhãn đơn</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb100-1"><a href="selecting-và-filtering.html#cb100-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">14</span>]: df.loc[<span class="st">&#39;Mountain&#39;</span>]</span>
<span id="cb100-2"><a href="selecting-và-filtering.html#cb100-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">14</span>]: </span>
<span id="cb100-3"><a href="selecting-và-filtering.html#cb100-3" aria-hidden="true" tabindex="-1"></a>          individuals  family_members  state_pop</span>
<span id="cb100-4"><a href="selecting-và-filtering.html#cb100-4" aria-hidden="true" tabindex="-1"></a>state                                           </span>
<span id="cb100-5"><a href="selecting-và-filtering.html#cb100-5" aria-hidden="true" tabindex="-1"></a>Arizona        <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb100-6"><a href="selecting-và-filtering.html#cb100-6" aria-hidden="true" tabindex="-1"></a>Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span>
<span id="cb100-7"><a href="selecting-và-filtering.html#cb100-7" aria-hidden="true" tabindex="-1"></a>Idaho          <span class="fl">1297.0</span>           <span class="fl">715.0</span>    <span class="dv">1750536</span></span></code></pre></div>

<div class="rmdnote">
<strong><em>Lưu ý:</em></strong>
Với <code>MultiIndex</code>,các index sẽ xếp theo thứ tự từ level 0 đến n (<code>level 0</code> cao hơn <code>level 1</code> …), với nhãn đơn là nhãn của 1 <code>index</code> thì chỉ thực hiện được index level đầu tiên, các index level sau sẽ báo lỗi.
Theo như ví dụ trên thì <code>region</code> có level cao hơn ‘state’ nên chỉ gọi được <code>.loc['Mountain']</code> còn <code>.loc['Arizona']</code> sẽ báo lỗi
</div>
<p>Để select nhiều index cùng lúc, ta truyền vào <code>tuple(label1, label2...)</code> theo thứ tự index có level từ cao đến thấp</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb101-1"><a href="selecting-và-filtering.html#cb101-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">15</span>]: df.loc[(<span class="st">&#39;Mountain&#39;</span>, <span class="st">&#39;Colorado&#39;</span>)]</span>
<span id="cb101-2"><a href="selecting-và-filtering.html#cb101-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">15</span>]:</span>
<span id="cb101-3"><a href="selecting-và-filtering.html#cb101-3" aria-hidden="true" tabindex="-1"></a>individuals          <span class="fl">7607.0</span></span>
<span id="cb101-4"><a href="selecting-và-filtering.html#cb101-4" aria-hidden="true" tabindex="-1"></a>family_members       <span class="fl">3250.0</span></span>
<span id="cb101-5"><a href="selecting-và-filtering.html#cb101-5" aria-hidden="true" tabindex="-1"></a>state_pop         <span class="fl">5691287.0</span></span>
<span id="cb101-6"><a href="selecting-và-filtering.html#cb101-6" aria-hidden="true" tabindex="-1"></a>Name: (Mountain, Colorado), dtype: float64</span></code></pre></div>
<p>Tương tự ta cùng có select theo các column cho trước</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb102-1"><a href="selecting-và-filtering.html#cb102-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">16</span>]: df.loc[(<span class="st">&#39;Mountain&#39;</span>, <span class="st">&#39;Colorado&#39;</span>), [<span class="st">&#39;individuals&#39;</span>, <span class="st">&#39;family_members&#39;</span>]]</span>
<span id="cb102-2"><a href="selecting-và-filtering.html#cb102-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">16</span>]:</span>
<span id="cb102-3"><a href="selecting-và-filtering.html#cb102-3" aria-hidden="true" tabindex="-1"></a>individuals       <span class="fl">7607.0</span></span>
<span id="cb102-4"><a href="selecting-và-filtering.html#cb102-4" aria-hidden="true" tabindex="-1"></a>family_members    <span class="fl">3250.0</span></span>
<span id="cb102-5"><a href="selecting-và-filtering.html#cb102-5" aria-hidden="true" tabindex="-1"></a>Name: (Mountain, Colorado), dtype: float64</span></code></pre></div>

<div class="rmdtip">
<p><strong><em>Mẹo:</em></strong>
Có thể select <code>index</code> ở các level sau bằng cách dùng <code>slice</code></p>
</div>
<div class="sourceCode" id="cb103"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb103-1"><a href="selecting-và-filtering.html#cb103-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">17</span>]: df.loc[(<span class="bu">slice</span>(<span class="va">None</span>), <span class="st">&#39;Arizona&#39;</span>), :]</span>
<span id="cb103-2"><a href="selecting-và-filtering.html#cb103-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">17</span>]:</span>
<span id="cb103-3"><a href="selecting-và-filtering.html#cb103-3" aria-hidden="true" tabindex="-1"></a>                  individuals  family_members  state_pop</span>
<span id="cb103-4"><a href="selecting-và-filtering.html#cb103-4" aria-hidden="true" tabindex="-1"></a>region   state                                          </span>
<span id="cb103-5"><a href="selecting-và-filtering.html#cb103-5" aria-hidden="true" tabindex="-1"></a>Mountain Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span></code></pre></div>
<p>Slice cho MultiIndex
Slice từ 1 tuple nhãn đến một nhãn đơn</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb104-1"><a href="selecting-và-filtering.html#cb104-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">18</span>]: df.loc[(<span class="st">&#39;Mountain&#39;</span>, <span class="st">&#39;Colorado&#39;</span>):<span class="st">&#39;Pacific&#39;</span>]</span>
<span id="cb104-2"><a href="selecting-và-filtering.html#cb104-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">18</span>]:</span>
<span id="cb104-3"><a href="selecting-và-filtering.html#cb104-3" aria-hidden="true" tabindex="-1"></a>                     individuals  family_members  state_pop</span>
<span id="cb104-4"><a href="selecting-và-filtering.html#cb104-4" aria-hidden="true" tabindex="-1"></a>region   state                                             </span>
<span id="cb104-5"><a href="selecting-và-filtering.html#cb104-5" aria-hidden="true" tabindex="-1"></a>Mountain Colorado         <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span>
<span id="cb104-6"><a href="selecting-và-filtering.html#cb104-6" aria-hidden="true" tabindex="-1"></a>         Idaho            <span class="fl">1297.0</span>           <span class="fl">715.0</span>    <span class="dv">1750536</span></span>
<span id="cb104-7"><a href="selecting-và-filtering.html#cb104-7" aria-hidden="true" tabindex="-1"></a>Pacific  Alaska           <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb104-8"><a href="selecting-và-filtering.html#cb104-8" aria-hidden="true" tabindex="-1"></a>         California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span>
<span id="cb104-9"><a href="selecting-và-filtering.html#cb104-9" aria-hidden="true" tabindex="-1"></a>         Hawaii           <span class="fl">4131.0</span>          <span class="fl">2399.0</span>    <span class="dv">1420593</span></span></code></pre></div>

<div class="rmdnote">
<strong><em>Lưu ý:</em></strong>
Nhãn đơn phía sau phải có cùng level với nhãn đầu tiên trong tuple. Trong ví dụ trên nếu thay <code>Pacific</code> thành <code>Hawaii</code> sẽ trả về rỗng. Nhưng khi truyền nhãn không nằm trong các nhãn của index thì vẫn có kết quả trả về
</div>
<div class="sourceCode" id="cb105"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb105-1"><a href="selecting-và-filtering.html#cb105-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">19</span>]: df.loc[(<span class="st">&#39;Mountain&#39;</span>, <span class="st">&#39;Colorado&#39;</span>): <span class="st">&#39;meow&#39;</span>]</span>
<span id="cb105-2"><a href="selecting-và-filtering.html#cb105-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">19</span>]:</span>
<span id="cb105-3"><a href="selecting-và-filtering.html#cb105-3" aria-hidden="true" tabindex="-1"></a>                     individuals  family_members  state_pop</span>
<span id="cb105-4"><a href="selecting-và-filtering.html#cb105-4" aria-hidden="true" tabindex="-1"></a>region   state                                             </span>
<span id="cb105-5"><a href="selecting-và-filtering.html#cb105-5" aria-hidden="true" tabindex="-1"></a>Mountain Colorado         <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span>
<span id="cb105-6"><a href="selecting-và-filtering.html#cb105-6" aria-hidden="true" tabindex="-1"></a>         Idaho            <span class="fl">1297.0</span>           <span class="fl">715.0</span>    <span class="dv">1750536</span></span>
<span id="cb105-7"><a href="selecting-và-filtering.html#cb105-7" aria-hidden="true" tabindex="-1"></a>Pacific  Alaska           <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb105-8"><a href="selecting-và-filtering.html#cb105-8" aria-hidden="true" tabindex="-1"></a>         California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span>
<span id="cb105-9"><a href="selecting-và-filtering.html#cb105-9" aria-hidden="true" tabindex="-1"></a>         Hawaii           <span class="fl">4131.0</span>          <span class="fl">2399.0</span>    <span class="dv">1420593</span></span></code></pre></div>
<p>Slice từ 1 tuple nhãn đến một tuple nhãn</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb106-1"><a href="selecting-và-filtering.html#cb106-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">20</span>]: df.loc[(<span class="st">&#39;Mountain&#39;</span>, <span class="st">&#39;Colorado&#39;</span>):(<span class="st">&#39;Pacific&#39;</span>, <span class="st">&#39;California&#39;</span>)]</span>
<span id="cb106-2"><a href="selecting-và-filtering.html#cb106-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">20</span>]:</span>
<span id="cb106-3"><a href="selecting-và-filtering.html#cb106-3" aria-hidden="true" tabindex="-1"></a>                     individuals  family_members  state_pop</span>
<span id="cb106-4"><a href="selecting-và-filtering.html#cb106-4" aria-hidden="true" tabindex="-1"></a>region   state                                             </span>
<span id="cb106-5"><a href="selecting-và-filtering.html#cb106-5" aria-hidden="true" tabindex="-1"></a>Mountain Colorado         <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span>
<span id="cb106-6"><a href="selecting-và-filtering.html#cb106-6" aria-hidden="true" tabindex="-1"></a>         Idaho            <span class="fl">1297.0</span>           <span class="fl">715.0</span>    <span class="dv">1750536</span></span>
<span id="cb106-7"><a href="selecting-và-filtering.html#cb106-7" aria-hidden="true" tabindex="-1"></a>Pacific  Alaska           <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb106-8"><a href="selecting-và-filtering.html#cb106-8" aria-hidden="true" tabindex="-1"></a>         California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span></code></pre></div>
</div>
<div id="iloc" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> <code>.iloc</code><a href="selecting-và-filtering.html#iloc" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Phương thức <code>.iloc</code> dùng để lấy dữ liệu theo cột hoặc hàng dựa theo index của nó, ngoài ra <code>.iloc</code> còn nhận các giá trị boolean.</p>
<p>Đầu vào của <code>.iloc</code> có thể gồm:</p>
<ul>
<li><p>Nhãn đơn: là 1 số <code>3</code></p></li>
<li><p>Danh sách các số : <code>[1, 2, 3]</code></p></li>
<li><p>Đối tượng dạng slice ví dụ <code>1:5</code></p></li>
<li><p>Danh sách kiểu <code>bool</code> có độ dài bằng với số lượng dòng</p></li>
</ul>
<p>Ví dụ với DataFrame</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb107-1"><a href="selecting-và-filtering.html#cb107-1" aria-hidden="true" tabindex="-1"></a>                         state  individuals  family_members  state_pop</span>
<span id="cb107-2"><a href="selecting-và-filtering.html#cb107-2" aria-hidden="true" tabindex="-1"></a>region                                                                </span>
<span id="cb107-3"><a href="selecting-và-filtering.html#cb107-3" aria-hidden="true" tabindex="-1"></a>East South Central     Alabama       <span class="fl">2570.0</span>           <span class="fl">864.0</span>    <span class="dv">4887681</span></span>
<span id="cb107-4"><a href="selecting-và-filtering.html#cb107-4" aria-hidden="true" tabindex="-1"></a>Pacific                 Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb107-5"><a href="selecting-và-filtering.html#cb107-5" aria-hidden="true" tabindex="-1"></a>Mountain               Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb107-6"><a href="selecting-và-filtering.html#cb107-6" aria-hidden="true" tabindex="-1"></a>West South Central    Arkansas       <span class="fl">2280.0</span>           <span class="fl">432.0</span>    <span class="dv">3009733</span></span>
<span id="cb107-7"><a href="selecting-và-filtering.html#cb107-7" aria-hidden="true" tabindex="-1"></a>Pacific             California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span>
<span id="cb107-8"><a href="selecting-và-filtering.html#cb107-8" aria-hidden="true" tabindex="-1"></a>Mountain              Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span></code></pre></div>
<p>Khi truyền 1 giá trị nguyên, <code>.iloc</code> trả về giá trị của dòng tại vị trí truyền vào với kiểu <code>Series</code></p>
<div class="sourceCode" id="cb108"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb108-1"><a href="selecting-và-filtering.html#cb108-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">21</span>]: df.iloc[<span class="dv">0</span>]</span>
<span id="cb108-2"><a href="selecting-và-filtering.html#cb108-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">21</span>]:</span>
<span id="cb108-3"><a href="selecting-và-filtering.html#cb108-3" aria-hidden="true" tabindex="-1"></a>state             Alabama</span>
<span id="cb108-4"><a href="selecting-và-filtering.html#cb108-4" aria-hidden="true" tabindex="-1"></a>individuals        <span class="fl">2570.0</span></span>
<span id="cb108-5"><a href="selecting-và-filtering.html#cb108-5" aria-hidden="true" tabindex="-1"></a>family_members      <span class="fl">864.0</span></span>
<span id="cb108-6"><a href="selecting-và-filtering.html#cb108-6" aria-hidden="true" tabindex="-1"></a>state_pop         <span class="dv">4887681</span></span>
<span id="cb108-7"><a href="selecting-và-filtering.html#cb108-7" aria-hidden="true" tabindex="-1"></a>Name: East South Central, dtype: <span class="bu">object</span></span></code></pre></div>

<div class="rmdnote">
<p><strong><em>Lưu ý:</em></strong>
<code>Series</code> trả về không chứa nhãn của index, ở đây là nhãn <code>East South Central</code> của index <code>region</code></p>
</div>
<p>Để lấy dữ liệu theo cột, ví dụ muốn lấy cột <code>family_members</code> thì sẽ truyền index cột là <code>2</code></p>
<div class="sourceCode" id="cb109"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb109-1"><a href="selecting-và-filtering.html#cb109-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">22</span>]: df.iloc[:, <span class="dv">2</span>]</span>
<span id="cb109-2"><a href="selecting-và-filtering.html#cb109-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">22</span>]:</span>
<span id="cb109-3"><a href="selecting-và-filtering.html#cb109-3" aria-hidden="true" tabindex="-1"></a>region</span>
<span id="cb109-4"><a href="selecting-và-filtering.html#cb109-4" aria-hidden="true" tabindex="-1"></a>East South Central      <span class="fl">864.0</span></span>
<span id="cb109-5"><a href="selecting-và-filtering.html#cb109-5" aria-hidden="true" tabindex="-1"></a>Pacific                 <span class="fl">582.0</span></span>
<span id="cb109-6"><a href="selecting-và-filtering.html#cb109-6" aria-hidden="true" tabindex="-1"></a>Mountain               <span class="fl">2606.0</span></span>
<span id="cb109-7"><a href="selecting-và-filtering.html#cb109-7" aria-hidden="true" tabindex="-1"></a>West South Central      <span class="fl">432.0</span></span>
<span id="cb109-8"><a href="selecting-và-filtering.html#cb109-8" aria-hidden="true" tabindex="-1"></a>Pacific               <span class="fl">20964.0</span></span>
<span id="cb109-9"><a href="selecting-và-filtering.html#cb109-9" aria-hidden="true" tabindex="-1"></a>Mountain               <span class="fl">3250.0</span></span>
<span id="cb109-10"><a href="selecting-và-filtering.html#cb109-10" aria-hidden="true" tabindex="-1"></a>Name: family_members, dtype: float64</span></code></pre></div>

<div class="rmdtip">
<p><strong><em>Mẹo:</em></strong></p>
<ul>
<li><p><code>.iloc</code> bắt buộc truyền vào vị trí của cột, không cho phép tên cột.</p></li>
<li><p>Sử dụng <code>.columns.get_loc(&lt;tên cột&gt;)</code> để lấy vị trí của cột</p>
</div></li>
</ul>
<div class="sourceCode" id="cb110"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb110-1"><a href="selecting-và-filtering.html#cb110-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">23</span>]: df.iloc[:, df.columns.get_loc(<span class="st">&#39;family_members&#39;</span>)]</span>
<span id="cb110-2"><a href="selecting-và-filtering.html#cb110-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">23</span>]:</span>
<span id="cb110-3"><a href="selecting-và-filtering.html#cb110-3" aria-hidden="true" tabindex="-1"></a>region</span>
<span id="cb110-4"><a href="selecting-và-filtering.html#cb110-4" aria-hidden="true" tabindex="-1"></a>East South Central      <span class="fl">864.0</span></span>
<span id="cb110-5"><a href="selecting-và-filtering.html#cb110-5" aria-hidden="true" tabindex="-1"></a>Pacific                 <span class="fl">582.0</span></span>
<span id="cb110-6"><a href="selecting-và-filtering.html#cb110-6" aria-hidden="true" tabindex="-1"></a>Mountain               <span class="fl">2606.0</span></span>
<span id="cb110-7"><a href="selecting-và-filtering.html#cb110-7" aria-hidden="true" tabindex="-1"></a>West South Central      <span class="fl">432.0</span></span>
<span id="cb110-8"><a href="selecting-và-filtering.html#cb110-8" aria-hidden="true" tabindex="-1"></a>Pacific               <span class="fl">20964.0</span></span>
<span id="cb110-9"><a href="selecting-và-filtering.html#cb110-9" aria-hidden="true" tabindex="-1"></a>Mountain               <span class="fl">3250.0</span></span>
<span id="cb110-10"><a href="selecting-và-filtering.html#cb110-10" aria-hidden="true" tabindex="-1"></a>Name: family_members, dtype: float64</span></code></pre></div>
<p>Select theo danh sách, mặc định đưa vào 1 danh sách <code>Pandas</code> sẽ hiểu là lấy theo các dòng</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb111-1"><a href="selecting-và-filtering.html#cb111-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">24</span>]: df.iloc[[<span class="dv">1</span>, <span class="dv">3</span> ,<span class="dv">5</span>]]</span>
<span id="cb111-2"><a href="selecting-và-filtering.html#cb111-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">24</span>]:</span>
<span id="cb111-3"><a href="selecting-và-filtering.html#cb111-3" aria-hidden="true" tabindex="-1"></a>                   individuals  family_members  state_pop</span>
<span id="cb111-4"><a href="selecting-và-filtering.html#cb111-4" aria-hidden="true" tabindex="-1"></a>region   state                                           </span>
<span id="cb111-5"><a href="selecting-và-filtering.html#cb111-5" aria-hidden="true" tabindex="-1"></a>Mountain Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span>
<span id="cb111-6"><a href="selecting-và-filtering.html#cb111-6" aria-hidden="true" tabindex="-1"></a>Pacific  Alaska         <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb111-7"><a href="selecting-và-filtering.html#cb111-7" aria-hidden="true" tabindex="-1"></a>         Hawaii         <span class="fl">4131.0</span>          <span class="fl">2399.0</span>    <span class="dv">1420593</span></span></code></pre></div>

<div class="rmdtip">
<strong><em>Mẹo:</em></strong>
Dòng lệnh trên cũng tương đương với <code>df.iloc[[1, 3 ,5], :]</code>, trong đó <code>:</code> dùng để lấy toàn bộ
</div>
<p>Tương tự để lấy theo danh sách index các cột</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb112-1"><a href="selecting-và-filtering.html#cb112-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">25</span>]: df.iloc[:, [<span class="dv">0</span>, <span class="dv">2</span>]]</span>
<span id="cb112-2"><a href="selecting-và-filtering.html#cb112-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">25</span>]:</span>
<span id="cb112-3"><a href="selecting-và-filtering.html#cb112-3" aria-hidden="true" tabindex="-1"></a>                     individuals  state_pop</span>
<span id="cb112-4"><a href="selecting-và-filtering.html#cb112-4" aria-hidden="true" tabindex="-1"></a>region   state                             </span>
<span id="cb112-5"><a href="selecting-và-filtering.html#cb112-5" aria-hidden="true" tabindex="-1"></a>Mountain Arizona          <span class="fl">7259.0</span>    <span class="dv">7158024</span></span>
<span id="cb112-6"><a href="selecting-và-filtering.html#cb112-6" aria-hidden="true" tabindex="-1"></a>         Colorado         <span class="fl">7607.0</span>    <span class="dv">5691287</span></span>
<span id="cb112-7"><a href="selecting-và-filtering.html#cb112-7" aria-hidden="true" tabindex="-1"></a>         Idaho            <span class="fl">1297.0</span>    <span class="dv">1750536</span></span>
<span id="cb112-8"><a href="selecting-và-filtering.html#cb112-8" aria-hidden="true" tabindex="-1"></a>Pacific  Alaska           <span class="fl">1434.0</span>     <span class="dv">735139</span></span>
<span id="cb112-9"><a href="selecting-và-filtering.html#cb112-9" aria-hidden="true" tabindex="-1"></a>         California     <span class="fl">109008.0</span>   <span class="dv">39461588</span></span>
<span id="cb112-10"><a href="selecting-và-filtering.html#cb112-10" aria-hidden="true" tabindex="-1"></a>         Hawaii           <span class="fl">4131.0</span>    <span class="dv">1420593</span></span></code></pre></div>
<p>Slice cả 2 chiều</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb113-1"><a href="selecting-và-filtering.html#cb113-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">26</span>]: df.iloc[<span class="dv">2</span>:<span class="dv">4</span>, <span class="dv">0</span>:<span class="dv">2</span>]</span>
<span id="cb113-2"><a href="selecting-và-filtering.html#cb113-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">26</span>]:</span>
<span id="cb113-3"><a href="selecting-và-filtering.html#cb113-3" aria-hidden="true" tabindex="-1"></a>                 individuals  family_members</span>
<span id="cb113-4"><a href="selecting-và-filtering.html#cb113-4" aria-hidden="true" tabindex="-1"></a>region   state                              </span>
<span id="cb113-5"><a href="selecting-và-filtering.html#cb113-5" aria-hidden="true" tabindex="-1"></a>Mountain Idaho        <span class="fl">1297.0</span>           <span class="fl">715.0</span></span>
<span id="cb113-6"><a href="selecting-và-filtering.html#cb113-6" aria-hidden="true" tabindex="-1"></a>Pacific  Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span></span></code></pre></div>
<p>Sử dụng danh sách các boolean</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb114-1"><a href="selecting-và-filtering.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Theo dòng</span></span>
<span id="cb114-2"><a href="selecting-và-filtering.html#cb114-2" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">27</span>]: df.iloc[[<span class="va">True</span>, <span class="va">False</span>, <span class="va">True</span>, <span class="va">False</span>, <span class="va">False</span>, <span class="va">True</span>], :]</span>
<span id="cb114-3"><a href="selecting-và-filtering.html#cb114-3" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">27</span>]:</span>
<span id="cb114-4"><a href="selecting-và-filtering.html#cb114-4" aria-hidden="true" tabindex="-1"></a>                  individuals  family_members  state_pop</span>
<span id="cb114-5"><a href="selecting-và-filtering.html#cb114-5" aria-hidden="true" tabindex="-1"></a>region   state                                          </span>
<span id="cb114-6"><a href="selecting-và-filtering.html#cb114-6" aria-hidden="true" tabindex="-1"></a>Mountain Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb114-7"><a href="selecting-và-filtering.html#cb114-7" aria-hidden="true" tabindex="-1"></a>         Idaho         <span class="fl">1297.0</span>           <span class="fl">715.0</span>    <span class="dv">1750536</span></span>
<span id="cb114-8"><a href="selecting-và-filtering.html#cb114-8" aria-hidden="true" tabindex="-1"></a>Pacific  Hawaii        <span class="fl">4131.0</span>          <span class="fl">2399.0</span>    <span class="dv">1420593</span></span>
<span id="cb114-9"><a href="selecting-và-filtering.html#cb114-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-10"><a href="selecting-và-filtering.html#cb114-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Theo cột</span></span>
<span id="cb114-11"><a href="selecting-và-filtering.html#cb114-11" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">28</span>]: df.iloc[:, [<span class="va">False</span>, <span class="va">True</span>,<span class="va">False</span>]]</span>
<span id="cb114-12"><a href="selecting-và-filtering.html#cb114-12" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">28</span>]: </span>
<span id="cb114-13"><a href="selecting-và-filtering.html#cb114-13" aria-hidden="true" tabindex="-1"></a>                     family_members</span>
<span id="cb114-14"><a href="selecting-và-filtering.html#cb114-14" aria-hidden="true" tabindex="-1"></a>region   state                     </span>
<span id="cb114-15"><a href="selecting-và-filtering.html#cb114-15" aria-hidden="true" tabindex="-1"></a>Mountain Arizona             <span class="fl">2606.0</span></span>
<span id="cb114-16"><a href="selecting-và-filtering.html#cb114-16" aria-hidden="true" tabindex="-1"></a>         Colorado            <span class="fl">3250.0</span></span>
<span id="cb114-17"><a href="selecting-và-filtering.html#cb114-17" aria-hidden="true" tabindex="-1"></a>         Idaho                <span class="fl">715.0</span></span>
<span id="cb114-18"><a href="selecting-và-filtering.html#cb114-18" aria-hidden="true" tabindex="-1"></a>Pacific  Alaska               <span class="fl">582.0</span></span>
<span id="cb114-19"><a href="selecting-và-filtering.html#cb114-19" aria-hidden="true" tabindex="-1"></a>         California         <span class="fl">20964.0</span></span>
<span id="cb114-20"><a href="selecting-và-filtering.html#cb114-20" aria-hidden="true" tabindex="-1"></a>         Hawaii              <span class="fl">2399.0</span></span></code></pre></div>
</div>
</div>
<div id="lọc-theo-điều-kiện" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Lọc theo điều kiện<a href="selecting-và-filtering.html#lọc-theo-điều-kiện" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Các phương thức <code>[]</code>, <code>.loc</code> hay <code>.iloc</code> ngoài việc lấy dữ liệu theo hàng và cột còn có thể lấy ra những bảng con theo các điều kiện cho trước. Bản chất các câu điều kiện sẽ trả về một danh sách dạng bolean và các hàm trên thực hiện lọc theo danh sách đó.</p>
<p>Trước hết ta cần biết câu điều kiện trong Pandas như thế nào. Ví dụ ta có 1 <code>DataFrame</code> như sau</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb115-1"><a href="selecting-và-filtering.html#cb115-1" aria-hidden="true" tabindex="-1"></a>               state  individuals  family_members  state_pop</span>
<span id="cb115-2"><a href="selecting-và-filtering.html#cb115-2" aria-hidden="true" tabindex="-1"></a>region                                                      </span>
<span id="cb115-3"><a href="selecting-và-filtering.html#cb115-3" aria-hidden="true" tabindex="-1"></a>Mountain     Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb115-4"><a href="selecting-và-filtering.html#cb115-4" aria-hidden="true" tabindex="-1"></a>Mountain    Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span>
<span id="cb115-5"><a href="selecting-và-filtering.html#cb115-5" aria-hidden="true" tabindex="-1"></a>Mountain       Idaho       <span class="fl">1297.0</span>           <span class="fl">715.0</span>    <span class="dv">1750536</span></span>
<span id="cb115-6"><a href="selecting-và-filtering.html#cb115-6" aria-hidden="true" tabindex="-1"></a>Pacific       Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span>
<span id="cb115-7"><a href="selecting-và-filtering.html#cb115-7" aria-hidden="true" tabindex="-1"></a>Pacific   California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span>
<span id="cb115-8"><a href="selecting-và-filtering.html#cb115-8" aria-hidden="true" tabindex="-1"></a>Pacific       Hawaii       <span class="fl">4131.0</span>          <span class="fl">2399.0</span>    <span class="dv">1420593</span></span></code></pre></div>
<div id="toán-tử-điều-kiện" class="section level3 hasAnchor" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Toán tử điều kiện<a href="selecting-và-filtering.html#toán-tử-điều-kiện" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Giả sử ta có một điều kiện rằng <code>df['individuals'] &gt; 5000</code>. Kết quả trả về là 1 <code>Series</code></p>
<div class="sourceCode" id="cb116"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb116-1"><a href="selecting-và-filtering.html#cb116-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">28</span>]: df[<span class="st">&#39;individuals&#39;</span>] <span class="op">&gt;</span> <span class="dv">5000</span></span>
<span id="cb116-2"><a href="selecting-và-filtering.html#cb116-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">28</span>]:</span>
<span id="cb116-3"><a href="selecting-và-filtering.html#cb116-3" aria-hidden="true" tabindex="-1"></a>region</span>
<span id="cb116-4"><a href="selecting-và-filtering.html#cb116-4" aria-hidden="true" tabindex="-1"></a>Mountain     <span class="va">True</span></span>
<span id="cb116-5"><a href="selecting-và-filtering.html#cb116-5" aria-hidden="true" tabindex="-1"></a>Mountain     <span class="va">True</span></span>
<span id="cb116-6"><a href="selecting-và-filtering.html#cb116-6" aria-hidden="true" tabindex="-1"></a>Mountain    <span class="va">False</span></span>
<span id="cb116-7"><a href="selecting-và-filtering.html#cb116-7" aria-hidden="true" tabindex="-1"></a>Pacific     <span class="va">False</span></span>
<span id="cb116-8"><a href="selecting-và-filtering.html#cb116-8" aria-hidden="true" tabindex="-1"></a>Pacific      <span class="va">True</span></span>
<span id="cb116-9"><a href="selecting-và-filtering.html#cb116-9" aria-hidden="true" tabindex="-1"></a>Pacific     <span class="va">False</span></span>
<span id="cb116-10"><a href="selecting-và-filtering.html#cb116-10" aria-hidden="true" tabindex="-1"></a>Name: individuals, dtype: <span class="bu">bool</span></span></code></pre></div>
<p>Để lọc theo điều kiện này ta có các cách như sau</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb117-1"><a href="selecting-và-filtering.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Dùng []</span></span>
<span id="cb117-2"><a href="selecting-và-filtering.html#cb117-2" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">29</span>]: df[df[<span class="st">&#39;individuals&#39;</span>] <span class="op">&gt;</span> <span class="dv">5000</span>]</span>
<span id="cb117-3"><a href="selecting-và-filtering.html#cb117-3" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">29</span>]:</span>
<span id="cb117-4"><a href="selecting-và-filtering.html#cb117-4" aria-hidden="true" tabindex="-1"></a>               state  individuals  family_members  state_pop</span>
<span id="cb117-5"><a href="selecting-và-filtering.html#cb117-5" aria-hidden="true" tabindex="-1"></a>region                                                      </span>
<span id="cb117-6"><a href="selecting-và-filtering.html#cb117-6" aria-hidden="true" tabindex="-1"></a>Mountain     Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb117-7"><a href="selecting-và-filtering.html#cb117-7" aria-hidden="true" tabindex="-1"></a>Mountain    Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span>
<span id="cb117-8"><a href="selecting-và-filtering.html#cb117-8" aria-hidden="true" tabindex="-1"></a>Pacific   California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span>
<span id="cb117-9"><a href="selecting-và-filtering.html#cb117-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-10"><a href="selecting-và-filtering.html#cb117-10" aria-hidden="true" tabindex="-1"></a><span class="co">## Dùng .loc</span></span>
<span id="cb117-11"><a href="selecting-và-filtering.html#cb117-11" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">30</span>]: df.loc[df[<span class="st">&#39;individuals&#39;</span>] <span class="op">&gt;</span> <span class="dv">5000</span>]</span>
<span id="cb117-12"><a href="selecting-và-filtering.html#cb117-12" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">30</span>]: </span>
<span id="cb117-13"><a href="selecting-và-filtering.html#cb117-13" aria-hidden="true" tabindex="-1"></a>               state  individuals  family_members  state_pop</span>
<span id="cb117-14"><a href="selecting-và-filtering.html#cb117-14" aria-hidden="true" tabindex="-1"></a>region                                                      </span>
<span id="cb117-15"><a href="selecting-và-filtering.html#cb117-15" aria-hidden="true" tabindex="-1"></a>Mountain     Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb117-16"><a href="selecting-và-filtering.html#cb117-16" aria-hidden="true" tabindex="-1"></a>Mountain    Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span>
<span id="cb117-17"><a href="selecting-và-filtering.html#cb117-17" aria-hidden="true" tabindex="-1"></a>Pacific   California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span></code></pre></div>

<div class="rmdnote">
<p><strong><em>Lưu ý:</em></strong>
<code>.iloc</code> không nhận <code>Series</code> boolean nhưng <code>array</code> thì có thể. Do đó ta có thể dùng <code>.values</code> để lấy kết quả của Câu điều kiện</p>
</div>
<div class="sourceCode" id="cb118"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb118-1"><a href="selecting-và-filtering.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Dùng .iloc</span></span>
<span id="cb118-2"><a href="selecting-và-filtering.html#cb118-2" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">31</span>]: df.iloc[(df[<span class="st">&#39;individuals&#39;</span>] <span class="op">&gt;</span> <span class="dv">5000</span>).values]</span>
<span id="cb118-3"><a href="selecting-và-filtering.html#cb118-3" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">31</span>]:</span>
<span id="cb118-4"><a href="selecting-và-filtering.html#cb118-4" aria-hidden="true" tabindex="-1"></a>               state  individuals  family_members  state_pop</span>
<span id="cb118-5"><a href="selecting-và-filtering.html#cb118-5" aria-hidden="true" tabindex="-1"></a>region                                                      </span>
<span id="cb118-6"><a href="selecting-và-filtering.html#cb118-6" aria-hidden="true" tabindex="-1"></a>Mountain     Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb118-7"><a href="selecting-và-filtering.html#cb118-7" aria-hidden="true" tabindex="-1"></a>Mountain    Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span>
<span id="cb118-8"><a href="selecting-và-filtering.html#cb118-8" aria-hidden="true" tabindex="-1"></a>Pacific   California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span></code></pre></div>
<p>Ta cũng có thể áp nhiều điều kiện cùng lúc, mỗi điều kiện phải nằm trong dấu ngoặc đơn <code>()</code> và giữa các kiều kiện là toán tử <code>&amp;</code> hoặc <code>|</code></p>
<div class="sourceCode" id="cb119"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb119-1"><a href="selecting-và-filtering.html#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Nhiều câu điều kiện trên một cột</span></span>
<span id="cb119-2"><a href="selecting-và-filtering.html#cb119-2" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">32</span>]: df.loc[(df[<span class="st">&#39;individuals&#39;</span>] <span class="op">&gt;</span> <span class="dv">5000</span>) <span class="op">&amp;</span> (df[<span class="st">&#39;individuals&#39;</span>] <span class="op">&lt;</span> <span class="dv">10000</span>)]</span>
<span id="cb119-3"><a href="selecting-và-filtering.html#cb119-3" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">32</span>]:</span>
<span id="cb119-4"><a href="selecting-và-filtering.html#cb119-4" aria-hidden="true" tabindex="-1"></a>             state  individuals  family_members  state_pop</span>
<span id="cb119-5"><a href="selecting-và-filtering.html#cb119-5" aria-hidden="true" tabindex="-1"></a>region                                                    </span>
<span id="cb119-6"><a href="selecting-và-filtering.html#cb119-6" aria-hidden="true" tabindex="-1"></a>Mountain   Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb119-7"><a href="selecting-và-filtering.html#cb119-7" aria-hidden="true" tabindex="-1"></a>Mountain  Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span>
<span id="cb119-8"><a href="selecting-và-filtering.html#cb119-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-9"><a href="selecting-và-filtering.html#cb119-9" aria-hidden="true" tabindex="-1"></a><span class="co">## Nhiều câu điều kiện ở nhiều cột</span></span>
<span id="cb119-10"><a href="selecting-và-filtering.html#cb119-10" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">33</span>]: df.loc[(df[<span class="st">&#39;individuals&#39;</span>] <span class="op">&gt;</span> <span class="dv">5000</span>) <span class="op">&amp;</span> (df[<span class="st">&#39;family_members&#39;</span>] <span class="op">&lt;</span> <span class="dv">10000</span>)</span>
<span id="cb119-11"><a href="selecting-và-filtering.html#cb119-11" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">33</span>]:</span>
<span id="cb119-12"><a href="selecting-và-filtering.html#cb119-12" aria-hidden="true" tabindex="-1"></a>             state  individuals  family_members  state_pop</span>
<span id="cb119-13"><a href="selecting-và-filtering.html#cb119-13" aria-hidden="true" tabindex="-1"></a>region                                                    </span>
<span id="cb119-14"><a href="selecting-và-filtering.html#cb119-14" aria-hidden="true" tabindex="-1"></a>Mountain   Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb119-15"><a href="selecting-và-filtering.html#cb119-15" aria-hidden="true" tabindex="-1"></a>Mountain  Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span>
<span id="cb119-16"><a href="selecting-và-filtering.html#cb119-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-17"><a href="selecting-và-filtering.html#cb119-17" aria-hidden="true" tabindex="-1"></a><span class="co">## Một câu điều kiện trên nhiều cột</span></span>
<span id="cb119-18"><a href="selecting-và-filtering.html#cb119-18" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">34</span>]: df[df[<span class="st">&#39;individuals&#39;</span>] <span class="op">&gt;</span> <span class="dv">5</span> <span class="op">*</span> df[<span class="st">&#39;family_members&#39;</span>]]</span>
<span id="cb119-19"><a href="selecting-và-filtering.html#cb119-19" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">34</span>]:</span>
<span id="cb119-20"><a href="selecting-và-filtering.html#cb119-20" aria-hidden="true" tabindex="-1"></a>              state  individuals  family_members  state_pop</span>
<span id="cb119-21"><a href="selecting-và-filtering.html#cb119-21" aria-hidden="true" tabindex="-1"></a>region                                                     </span>
<span id="cb119-22"><a href="selecting-và-filtering.html#cb119-22" aria-hidden="true" tabindex="-1"></a>Pacific  California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>   <span class="dv">39461588</span></span></code></pre></div>

<div class="rmdtip">
<strong><em>Mẹo:</em></strong>
Bạn cũng có thể dùng <code>loc</code> để vừa lọc các dòng thỏa điều kiện, vừa chọn các cột muốn lấy
</div>
<div class="sourceCode" id="cb120"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb120-1"><a href="selecting-và-filtering.html#cb120-1" aria-hidden="true" tabindex="-1"></a>In []: df.loc[df[<span class="st">&#39;individuals&#39;</span>] <span class="op">&gt;</span> <span class="dv">5</span> <span class="op">*</span> df[<span class="st">&#39;family_members&#39;</span>], [<span class="st">&#39;individuals&#39;</span>, <span class="st">&#39;family_members&#39;</span>]]</span>
<span id="cb120-2"><a href="selecting-và-filtering.html#cb120-2" aria-hidden="true" tabindex="-1"></a>Out[]:</span>
<span id="cb120-3"><a href="selecting-và-filtering.html#cb120-3" aria-hidden="true" tabindex="-1"></a>         individuals  family_members</span>
<span id="cb120-4"><a href="selecting-và-filtering.html#cb120-4" aria-hidden="true" tabindex="-1"></a>region                              </span>
<span id="cb120-5"><a href="selecting-và-filtering.html#cb120-5" aria-hidden="true" tabindex="-1"></a>Pacific     <span class="fl">109008.0</span>         <span class="fl">20964.0</span></span></code></pre></div>
<p>Ngoài ra, <code>pandas</code> còn cho phép bạn lọc với cấu trúc câu truy vấn bằng <code>.query</code> theo cú pháp</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb121-1"><a href="selecting-và-filtering.html#cb121-1" aria-hidden="true" tabindex="-1"></a>DataFrame.query(expr, inplace<span class="op">=</span><span class="va">False</span>, <span class="op">**</span>kwargs)</span></code></pre></div>
<p>Trong đó:</p>
<ul>
<li><p><code>expr</code>: là câu truy vấn</p></li>
<li><p><code>inplace</code>: thực hiện trên chính <code>DataFrame</code> đó hay tạo 1 bảng sao</p></li>
<li><p><code>**kwargs</code>: keyword arguments</p></li>
</ul>
<p>Theo ví dụ trên, để thực hiện lọc theo điều kiện <code>df['individuals'] &gt; 5000</code> và <code>df['family_members'] &lt; 10000</code> ta có thể làm như sau</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb122-1"><a href="selecting-và-filtering.html#cb122-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">34</span>]: df.query(<span class="st">&#39;individuals &gt; 500 and family_members &lt; 10000&#39;</span>)</span>
<span id="cb122-2"><a href="selecting-và-filtering.html#cb122-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">34</span>]: </span>
<span id="cb122-3"><a href="selecting-và-filtering.html#cb122-3" aria-hidden="true" tabindex="-1"></a>             state  individuals  family_members  state_pop</span>
<span id="cb122-4"><a href="selecting-và-filtering.html#cb122-4" aria-hidden="true" tabindex="-1"></a>region                                                    </span>
<span id="cb122-5"><a href="selecting-và-filtering.html#cb122-5" aria-hidden="true" tabindex="-1"></a>Mountain   Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb122-6"><a href="selecting-và-filtering.html#cb122-6" aria-hidden="true" tabindex="-1"></a>Mountain  Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span>    <span class="dv">5691287</span></span></code></pre></div>
</div>
<div id="isin" class="section level3 hasAnchor" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> <code>.isin()</code><a href="selecting-và-filtering.html#isin" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Phương thức <code>.isin(values)</code> để kiểm tra các phần tử trong <code>DataFrame</code> hoặc <code>Series</code> có nằm trong values hay không.</p>
<p>Ví dụ:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb123-1"><a href="selecting-và-filtering.html#cb123-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">35</span>]: df.isin([<span class="st">&#39;Alaska&#39;</span>, <span class="st">&#39;Oklahoma&#39;</span>, <span class="st">&#39;Illinois&#39;</span>, <span class="st">&#39;Arizona&#39;</span>, <span class="dv">7259</span>, <span class="dv">582</span>, <span class="dv">300</span>])</span>
<span id="cb123-2"><a href="selecting-và-filtering.html#cb123-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">35</span>]:</span>
<span id="cb123-3"><a href="selecting-và-filtering.html#cb123-3" aria-hidden="true" tabindex="-1"></a>          state  individuals  family_members  state_pop</span>
<span id="cb123-4"><a href="selecting-và-filtering.html#cb123-4" aria-hidden="true" tabindex="-1"></a>region                                                 </span>
<span id="cb123-5"><a href="selecting-và-filtering.html#cb123-5" aria-hidden="true" tabindex="-1"></a>Mountain   <span class="va">True</span>         <span class="va">True</span>           <span class="va">False</span>      <span class="va">False</span></span>
<span id="cb123-6"><a href="selecting-và-filtering.html#cb123-6" aria-hidden="true" tabindex="-1"></a>Mountain  <span class="va">False</span>        <span class="va">False</span>           <span class="va">False</span>      <span class="va">False</span></span>
<span id="cb123-7"><a href="selecting-và-filtering.html#cb123-7" aria-hidden="true" tabindex="-1"></a>Mountain  <span class="va">False</span>        <span class="va">False</span>           <span class="va">False</span>      <span class="va">False</span></span>
<span id="cb123-8"><a href="selecting-và-filtering.html#cb123-8" aria-hidden="true" tabindex="-1"></a>Pacific    <span class="va">True</span>        <span class="va">False</span>            <span class="va">True</span>      <span class="va">False</span></span>
<span id="cb123-9"><a href="selecting-và-filtering.html#cb123-9" aria-hidden="true" tabindex="-1"></a>Pacific   <span class="va">False</span>        <span class="va">False</span>           <span class="va">False</span>      <span class="va">False</span></span>
<span id="cb123-10"><a href="selecting-và-filtering.html#cb123-10" aria-hidden="true" tabindex="-1"></a>Pacific   <span class="va">False</span>        <span class="va">False</span>           <span class="va">False</span>      <span class="va">False</span></span>
<span id="cb123-11"><a href="selecting-và-filtering.html#cb123-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-12"><a href="selecting-và-filtering.html#cb123-12" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">36</span>]: df[<span class="st">&#39;state&#39;</span>].isin([<span class="st">&#39;Alaska&#39;</span>, <span class="st">&#39;Oklahoma&#39;</span>, <span class="st">&#39;Illinois&#39;</span>, <span class="st">&#39;Arizona&#39;</span>])</span>
<span id="cb123-13"><a href="selecting-và-filtering.html#cb123-13" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">36</span>]:</span>
<span id="cb123-14"><a href="selecting-và-filtering.html#cb123-14" aria-hidden="true" tabindex="-1"></a>region</span>
<span id="cb123-15"><a href="selecting-và-filtering.html#cb123-15" aria-hidden="true" tabindex="-1"></a>Mountain     <span class="va">True</span></span>
<span id="cb123-16"><a href="selecting-và-filtering.html#cb123-16" aria-hidden="true" tabindex="-1"></a>Mountain    <span class="va">False</span></span>
<span id="cb123-17"><a href="selecting-và-filtering.html#cb123-17" aria-hidden="true" tabindex="-1"></a>Mountain    <span class="va">False</span></span>
<span id="cb123-18"><a href="selecting-và-filtering.html#cb123-18" aria-hidden="true" tabindex="-1"></a>Pacific      <span class="va">True</span></span>
<span id="cb123-19"><a href="selecting-và-filtering.html#cb123-19" aria-hidden="true" tabindex="-1"></a>Pacific     <span class="va">False</span></span>
<span id="cb123-20"><a href="selecting-và-filtering.html#cb123-20" aria-hidden="true" tabindex="-1"></a>Pacific     <span class="va">False</span></span>
<span id="cb123-21"><a href="selecting-và-filtering.html#cb123-21" aria-hidden="true" tabindex="-1"></a>Name: state, dtype: <span class="bu">bool</span></span></code></pre></div>
<p>Ngoài ra bạn có thể truyền <code>values</code> là một <code>dictionary</code> để kiểm tra cho từng cột theo từng tập giá trị</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb124-1"><a href="selecting-và-filtering.html#cb124-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">37</span>]: df.isin({<span class="st">&#39;state&#39;</span>: [<span class="st">&#39;Alaska&#39;</span>, <span class="st">&#39;Oklahoma&#39;</span>, <span class="st">&#39;Illinois&#39;</span>, <span class="st">&#39;Arizona&#39;</span>], </span>
<span id="cb124-2"><a href="selecting-và-filtering.html#cb124-2" aria-hidden="true" tabindex="-1"></a>         <span class="st">&#39;individuals&#39;</span>: [<span class="dv">7259</span>, <span class="dv">582</span>, <span class="dv">300</span>]})</span>
<span id="cb124-3"><a href="selecting-và-filtering.html#cb124-3" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">37</span>]:</span>
<span id="cb124-4"><a href="selecting-và-filtering.html#cb124-4" aria-hidden="true" tabindex="-1"></a>          state  individuals  family_members  state_pop</span>
<span id="cb124-5"><a href="selecting-và-filtering.html#cb124-5" aria-hidden="true" tabindex="-1"></a>region                                                 </span>
<span id="cb124-6"><a href="selecting-và-filtering.html#cb124-6" aria-hidden="true" tabindex="-1"></a>Mountain   <span class="va">True</span>         <span class="va">True</span>           <span class="va">False</span>      <span class="va">False</span></span>
<span id="cb124-7"><a href="selecting-và-filtering.html#cb124-7" aria-hidden="true" tabindex="-1"></a>Mountain  <span class="va">False</span>        <span class="va">False</span>           <span class="va">False</span>      <span class="va">False</span></span>
<span id="cb124-8"><a href="selecting-và-filtering.html#cb124-8" aria-hidden="true" tabindex="-1"></a>Mountain  <span class="va">False</span>        <span class="va">False</span>           <span class="va">False</span>      <span class="va">False</span></span>
<span id="cb124-9"><a href="selecting-và-filtering.html#cb124-9" aria-hidden="true" tabindex="-1"></a>Pacific    <span class="va">True</span>        <span class="va">False</span>           <span class="va">False</span>      <span class="va">False</span></span>
<span id="cb124-10"><a href="selecting-và-filtering.html#cb124-10" aria-hidden="true" tabindex="-1"></a>Pacific   <span class="va">False</span>        <span class="va">False</span>           <span class="va">False</span>      <span class="va">False</span></span>
<span id="cb124-11"><a href="selecting-và-filtering.html#cb124-11" aria-hidden="true" tabindex="-1"></a>Pacific   <span class="va">False</span>        <span class="va">False</span>           <span class="va">False</span>      <span class="va">False</span></span></code></pre></div>
<p>Lọc với <code>.isin()</code></p>
<div class="sourceCode" id="cb125"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb125-1"><a href="selecting-và-filtering.html#cb125-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">38</span>]: df[df[<span class="st">&#39;state&#39;</span>].isin([<span class="st">&#39;Alaska&#39;</span>, <span class="st">&#39;Oklahoma&#39;</span>, <span class="st">&#39;Illinois&#39;</span>, <span class="st">&#39;Arizona&#39;</span>])]</span>
<span id="cb125-2"><a href="selecting-và-filtering.html#cb125-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">38</span>]:</span>
<span id="cb125-3"><a href="selecting-và-filtering.html#cb125-3" aria-hidden="true" tabindex="-1"></a>            state  individuals  family_members  state_pop</span>
<span id="cb125-4"><a href="selecting-và-filtering.html#cb125-4" aria-hidden="true" tabindex="-1"></a>region                                                   </span>
<span id="cb125-5"><a href="selecting-và-filtering.html#cb125-5" aria-hidden="true" tabindex="-1"></a>Mountain  Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb125-6"><a href="selecting-và-filtering.html#cb125-6" aria-hidden="true" tabindex="-1"></a>Pacific    Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span></code></pre></div>
<p>trong trường hợp sự dụng <code>.isin</code> với <code>DataFrame</code>, kết quả của lọc sẽ trả về một <code>DataFrame</code> với giá trị các phần tử mà phép <code>isin</code> trả về <code>True</code>, các phần tử còn lại trả giá trị <code>NaN</code></p>
<div class="sourceCode" id="cb126"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb126-1"><a href="selecting-và-filtering.html#cb126-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">39</span>]: df[df.isin([<span class="st">&#39;Alaska&#39;</span>, <span class="st">&#39;Oklahoma&#39;</span>, <span class="st">&#39;Illinois&#39;</span>, <span class="st">&#39;Arizona&#39;</span>, <span class="dv">7259</span>, <span class="dv">582</span>, <span class="dv">300</span>])]</span>
<span id="cb126-2"><a href="selecting-và-filtering.html#cb126-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">39</span>]:</span>
<span id="cb126-3"><a href="selecting-và-filtering.html#cb126-3" aria-hidden="true" tabindex="-1"></a>            state  individuals  family_members  state_pop</span>
<span id="cb126-4"><a href="selecting-và-filtering.html#cb126-4" aria-hidden="true" tabindex="-1"></a>region                                                   </span>
<span id="cb126-5"><a href="selecting-và-filtering.html#cb126-5" aria-hidden="true" tabindex="-1"></a>Mountain  Arizona       <span class="fl">7259.0</span>             NaN        NaN</span>
<span id="cb126-6"><a href="selecting-và-filtering.html#cb126-6" aria-hidden="true" tabindex="-1"></a>Mountain      NaN          NaN             NaN        NaN</span>
<span id="cb126-7"><a href="selecting-và-filtering.html#cb126-7" aria-hidden="true" tabindex="-1"></a>Mountain      NaN          NaN             NaN        NaN</span>
<span id="cb126-8"><a href="selecting-và-filtering.html#cb126-8" aria-hidden="true" tabindex="-1"></a>Pacific    Alaska          NaN           <span class="fl">582.0</span>        NaN</span>
<span id="cb126-9"><a href="selecting-và-filtering.html#cb126-9" aria-hidden="true" tabindex="-1"></a>Pacific       NaN          NaN             NaN        NaN</span>
<span id="cb126-10"><a href="selecting-và-filtering.html#cb126-10" aria-hidden="true" tabindex="-1"></a>Pacific       NaN          NaN             NaN        NaN</span></code></pre></div>

<div class="rmdtip">
<p><strong><em>Mẹo:</em></strong></p>
<ul>
<li><p>Bạn có dùng <code>.any()</code> để tổng hợp điều kiện của 1 DataFrame với các phần tử <code>boolean</code></p></li>
<li><p><code>.any(axis=1)</code> : Chỉ cần tồn tại 1 cột giá trị True, trả về giá trị True cho dòng</p></li>
<li><p><code>.any(axis=0)</code>: Chỉ cần tồn tại 1 dòng có giá trị True, trả về giá trị True cho cột.</p></li>
<li><p>Phương thức <code>.any()</code> thường dùng để kiểm tra các dòng tồn tại 1 cột giá trị <code>NaN</code></p>
</div></li>
</ul>
<p>Lọc với <code>.isin()</code> và <code>any(axis=1)</code></p>
<div class="sourceCode" id="cb127"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb127-1"><a href="selecting-và-filtering.html#cb127-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">40</span>]: df.isin([<span class="st">&#39;Alaska&#39;</span>, <span class="st">&#39;Oklahoma&#39;</span>, <span class="st">&#39;Illinois&#39;</span>, <span class="st">&#39;Arizona&#39;</span>, <span class="dv">7259</span>, <span class="dv">582</span>, <span class="dv">300</span>]).<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb127-2"><a href="selecting-và-filtering.html#cb127-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">40</span>]:</span>
<span id="cb127-3"><a href="selecting-và-filtering.html#cb127-3" aria-hidden="true" tabindex="-1"></a>region</span>
<span id="cb127-4"><a href="selecting-và-filtering.html#cb127-4" aria-hidden="true" tabindex="-1"></a>Mountain     <span class="va">True</span></span>
<span id="cb127-5"><a href="selecting-và-filtering.html#cb127-5" aria-hidden="true" tabindex="-1"></a>Mountain    <span class="va">False</span></span>
<span id="cb127-6"><a href="selecting-và-filtering.html#cb127-6" aria-hidden="true" tabindex="-1"></a>Mountain    <span class="va">False</span></span>
<span id="cb127-7"><a href="selecting-và-filtering.html#cb127-7" aria-hidden="true" tabindex="-1"></a>Pacific      <span class="va">True</span></span>
<span id="cb127-8"><a href="selecting-và-filtering.html#cb127-8" aria-hidden="true" tabindex="-1"></a>Pacific     <span class="va">False</span></span>
<span id="cb127-9"><a href="selecting-và-filtering.html#cb127-9" aria-hidden="true" tabindex="-1"></a>Pacific     <span class="va">False</span></span>
<span id="cb127-10"><a href="selecting-và-filtering.html#cb127-10" aria-hidden="true" tabindex="-1"></a>dtype: <span class="bu">bool</span></span>
<span id="cb127-11"><a href="selecting-và-filtering.html#cb127-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-12"><a href="selecting-và-filtering.html#cb127-12" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">41</span>]: df[df.isin([<span class="st">&#39;Alaska&#39;</span>, <span class="st">&#39;Oklahoma&#39;</span>, <span class="st">&#39;Illinois&#39;</span>, <span class="st">&#39;Arizona&#39;</span>, <span class="dv">7259</span>, <span class="dv">582</span>, <span class="dv">300</span>]).<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">1</span>)]</span>
<span id="cb127-13"><a href="selecting-và-filtering.html#cb127-13" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">41</span>]: </span>
<span id="cb127-14"><a href="selecting-và-filtering.html#cb127-14" aria-hidden="true" tabindex="-1"></a>            state  individuals  family_members  state_pop</span>
<span id="cb127-15"><a href="selecting-và-filtering.html#cb127-15" aria-hidden="true" tabindex="-1"></a>region                                                   </span>
<span id="cb127-16"><a href="selecting-và-filtering.html#cb127-16" aria-hidden="true" tabindex="-1"></a>Mountain  Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span>    <span class="dv">7158024</span></span>
<span id="cb127-17"><a href="selecting-và-filtering.html#cb127-17" aria-hidden="true" tabindex="-1"></a>Pacific    Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span>     <span class="dv">735139</span></span></code></pre></div>
<p>Lọc với <code>isin()</code> và <code>any(axis=0)</code></p>
<div class="sourceCode" id="cb128"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb128-1"><a href="selecting-và-filtering.html#cb128-1" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">42</span>]: df.isin([<span class="st">&#39;Alaska&#39;</span>, <span class="st">&#39;Oklahoma&#39;</span>, <span class="st">&#39;Illinois&#39;</span>, <span class="st">&#39;Arizona&#39;</span>, <span class="dv">7259</span>, <span class="dv">582</span>, <span class="dv">300</span>]).<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb128-2"><a href="selecting-và-filtering.html#cb128-2" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">42</span>]:</span>
<span id="cb128-3"><a href="selecting-và-filtering.html#cb128-3" aria-hidden="true" tabindex="-1"></a>state              <span class="va">True</span></span>
<span id="cb128-4"><a href="selecting-và-filtering.html#cb128-4" aria-hidden="true" tabindex="-1"></a>individuals        <span class="va">True</span></span>
<span id="cb128-5"><a href="selecting-và-filtering.html#cb128-5" aria-hidden="true" tabindex="-1"></a>family_members     <span class="va">True</span></span>
<span id="cb128-6"><a href="selecting-và-filtering.html#cb128-6" aria-hidden="true" tabindex="-1"></a>state_pop         <span class="va">False</span></span>
<span id="cb128-7"><a href="selecting-và-filtering.html#cb128-7" aria-hidden="true" tabindex="-1"></a>dtype: <span class="bu">bool</span></span>
<span id="cb128-8"><a href="selecting-và-filtering.html#cb128-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-9"><a href="selecting-và-filtering.html#cb128-9" aria-hidden="true" tabindex="-1"></a>In [<span class="dv">43</span>]: df.loc[:,df.isin([<span class="st">&#39;Alaska&#39;</span>, <span class="st">&#39;Oklahoma&#39;</span>, <span class="st">&#39;Illinois&#39;</span>, <span class="st">&#39;Arizona&#39;</span>, <span class="dv">7259</span>, <span class="dv">582</span>, <span class="dv">300</span>]).<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">0</span>)]</span>
<span id="cb128-10"><a href="selecting-và-filtering.html#cb128-10" aria-hidden="true" tabindex="-1"></a>Out[<span class="dv">43</span>]:</span>
<span id="cb128-11"><a href="selecting-và-filtering.html#cb128-11" aria-hidden="true" tabindex="-1"></a>               state  individuals  family_members</span>
<span id="cb128-12"><a href="selecting-và-filtering.html#cb128-12" aria-hidden="true" tabindex="-1"></a>region                                           </span>
<span id="cb128-13"><a href="selecting-và-filtering.html#cb128-13" aria-hidden="true" tabindex="-1"></a>Mountain     Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span></span>
<span id="cb128-14"><a href="selecting-và-filtering.html#cb128-14" aria-hidden="true" tabindex="-1"></a>Mountain    Colorado       <span class="fl">7607.0</span>          <span class="fl">3250.0</span></span>
<span id="cb128-15"><a href="selecting-và-filtering.html#cb128-15" aria-hidden="true" tabindex="-1"></a>Mountain       Idaho       <span class="fl">1297.0</span>           <span class="fl">715.0</span></span>
<span id="cb128-16"><a href="selecting-và-filtering.html#cb128-16" aria-hidden="true" tabindex="-1"></a>Pacific       Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span></span>
<span id="cb128-17"><a href="selecting-và-filtering.html#cb128-17" aria-hidden="true" tabindex="-1"></a>Pacific   California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span></span>
<span id="cb128-18"><a href="selecting-và-filtering.html#cb128-18" aria-hidden="true" tabindex="-1"></a>Pacific       Hawaii       <span class="fl">4131.0</span>          <span class="fl">2399.0</span></span></code></pre></div>
<p>Lọc với <code>isin()</code> và <code>any(axis=0)</code> và <code>any(axis=1)</code></p>
<div class="sourceCode" id="cb129"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb129-1"><a href="selecting-và-filtering.html#cb129-1" aria-hidden="true" tabindex="-1"></a>In []: bool_df <span class="op">=</span> df.isin([<span class="st">&#39;Alaska&#39;</span>, <span class="st">&#39;Oklahoma&#39;</span>, <span class="st">&#39;Illinois&#39;</span>, <span class="st">&#39;Arizona&#39;</span>, <span class="dv">7259</span>, <span class="dv">582</span>, <span class="dv">300</span>])</span>
<span id="cb129-2"><a href="selecting-và-filtering.html#cb129-2" aria-hidden="true" tabindex="-1"></a>In []: df.loc[bool_df.<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">1</span>), bool_df.<span class="bu">any</span>(axis<span class="op">=</span><span class="dv">0</span>)]</span>
<span id="cb129-3"><a href="selecting-và-filtering.html#cb129-3" aria-hidden="true" tabindex="-1"></a>Out[]:</span>
<span id="cb129-4"><a href="selecting-và-filtering.html#cb129-4" aria-hidden="true" tabindex="-1"></a>            state  individuals  family_members</span>
<span id="cb129-5"><a href="selecting-và-filtering.html#cb129-5" aria-hidden="true" tabindex="-1"></a>region                                        </span>
<span id="cb129-6"><a href="selecting-và-filtering.html#cb129-6" aria-hidden="true" tabindex="-1"></a>Mountain  Arizona       <span class="fl">7259.0</span>          <span class="fl">2606.0</span></span>
<span id="cb129-7"><a href="selecting-và-filtering.html#cb129-7" aria-hidden="true" tabindex="-1"></a>Pacific    Alaska       <span class="fl">1434.0</span>           <span class="fl">582.0</span></span></code></pre></div>
</div>
<div id="lọc-missing-value-với-.dropna" class="section level3 hasAnchor" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Lọc missing value với <code>.dropna()</code><a href="selecting-và-filtering.html#lọc-missing-value-với-.dropna" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Trong quá trình xử lý dữ liệu, chúng ta thường gặp những bảng có chứa giá trị missing value. Ví dụ bảng <code>missing_df</code></p>
<div class="sourceCode" id="cb130"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb130-1"><a href="selecting-và-filtering.html#cb130-1" aria-hidden="true" tabindex="-1"></a>               state  individuals  family_members   state_pop</span>
<span id="cb130-2"><a href="selecting-và-filtering.html#cb130-2" aria-hidden="true" tabindex="-1"></a>region                                                       </span>
<span id="cb130-3"><a href="selecting-và-filtering.html#cb130-3" aria-hidden="true" tabindex="-1"></a>Mountain     Arizona       <span class="fl">7259.0</span>             NaN         NaN</span>
<span id="cb130-4"><a href="selecting-và-filtering.html#cb130-4" aria-hidden="true" tabindex="-1"></a>Mountain    Colorado          NaN          <span class="fl">3250.0</span>   <span class="fl">5691287.0</span></span>
<span id="cb130-5"><a href="selecting-và-filtering.html#cb130-5" aria-hidden="true" tabindex="-1"></a>Mountain       Idaho       <span class="fl">1297.0</span>           <span class="fl">715.0</span>   <span class="fl">1750536.0</span></span>
<span id="cb130-6"><a href="selecting-và-filtering.html#cb130-6" aria-hidden="true" tabindex="-1"></a>Pacific       Alaska       <span class="fl">1434.0</span>             NaN    <span class="fl">735139.0</span></span>
<span id="cb130-7"><a href="selecting-và-filtering.html#cb130-7" aria-hidden="true" tabindex="-1"></a>Pacific   California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>  <span class="fl">39461588.0</span></span>
<span id="cb130-8"><a href="selecting-và-filtering.html#cb130-8" aria-hidden="true" tabindex="-1"></a>Pacific       Hawaii       <span class="fl">4131.0</span>          <span class="fl">2399.0</span>         NaN</span></code></pre></div>
<p>Để lọc dữ liệu chứa <code>NaN</code> ta dùng phương thức <code>.dropna()</code></p>
<div class="sourceCode" id="cb131"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb131-1"><a href="selecting-và-filtering.html#cb131-1" aria-hidden="true" tabindex="-1"></a>DataFrame.dropna(axis<span class="op">=</span><span class="dv">0</span>, how<span class="op">=</span><span class="st">&#39;any&#39;</span>, thresh<span class="op">=</span><span class="va">None</span>, subset<span class="op">=</span><span class="va">None</span>, inplace<span class="op">=</span><span class="va">False</span>)</span></code></pre></div>
<p>Trong đó:</p>
<ul>
<li><p><code>axis</code>: Nhận diện lọc theo dòng <code>0</code>, <code>index</code>, hay cột <code>1</code>, <code>column</code></p></li>
<li><p><code>how</code>: Chỉ định cách lọc</p>
<ul>
<li><code>any</code>: Nếu có bất kì <code>NA</code>, loại bỏ dòng hoặc cột</li>
<li><code>all</code>: Nếu tất cả là <code>NA</code>, loại bỏ dòng hoặc cột</li>
</ul></li>
<li><p><code>thresh</code>: Số lượng <code>non-NA</code> yêu cầu</p></li>
<li><p><code>subset</code>: Chỉ định các cột cần lọc</p></li>
<li><p><code>inplace</code>: Thực hiện trên chính <code>DataFrame</code> hay tạo bản sao.</p></li>
</ul>
<p>Lọc bỏ các hàng nếu ít nhất một phần tử <code>NA</code></p>
<div class="sourceCode" id="cb132"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb132-1"><a href="selecting-và-filtering.html#cb132-1" aria-hidden="true" tabindex="-1"></a>In []: missing_df.dropna(axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb132-2"><a href="selecting-và-filtering.html#cb132-2" aria-hidden="true" tabindex="-1"></a>Out[]:</span>
<span id="cb132-3"><a href="selecting-và-filtering.html#cb132-3" aria-hidden="true" tabindex="-1"></a>               state  individuals  family_members   state_pop</span>
<span id="cb132-4"><a href="selecting-và-filtering.html#cb132-4" aria-hidden="true" tabindex="-1"></a>region                                                       </span>
<span id="cb132-5"><a href="selecting-và-filtering.html#cb132-5" aria-hidden="true" tabindex="-1"></a>Mountain       Idaho       <span class="fl">1297.0</span>           <span class="fl">715.0</span>   <span class="fl">1750536.0</span></span>
<span id="cb132-6"><a href="selecting-và-filtering.html#cb132-6" aria-hidden="true" tabindex="-1"></a>Pacific   California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>  <span class="fl">39461588.0</span></span></code></pre></div>
<p>Lọc bỏ các cột nếu ít nhất một phần tử <code>NA</code></p>
<div class="sourceCode" id="cb133"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb133-1"><a href="selecting-và-filtering.html#cb133-1" aria-hidden="true" tabindex="-1"></a>In []: missing_df.dropna(axis<span class="op">=</span><span class="st">&#39;columns&#39;</span>)</span>
<span id="cb133-2"><a href="selecting-và-filtering.html#cb133-2" aria-hidden="true" tabindex="-1"></a>Out[]:</span>
<span id="cb133-3"><a href="selecting-và-filtering.html#cb133-3" aria-hidden="true" tabindex="-1"></a>               state</span>
<span id="cb133-4"><a href="selecting-và-filtering.html#cb133-4" aria-hidden="true" tabindex="-1"></a>region              </span>
<span id="cb133-5"><a href="selecting-và-filtering.html#cb133-5" aria-hidden="true" tabindex="-1"></a>Mountain     Arizona</span>
<span id="cb133-6"><a href="selecting-và-filtering.html#cb133-6" aria-hidden="true" tabindex="-1"></a>Mountain    Colorado</span>
<span id="cb133-7"><a href="selecting-và-filtering.html#cb133-7" aria-hidden="true" tabindex="-1"></a>Mountain       Idaho</span>
<span id="cb133-8"><a href="selecting-và-filtering.html#cb133-8" aria-hidden="true" tabindex="-1"></a>Pacific       Alaska</span>
<span id="cb133-9"><a href="selecting-và-filtering.html#cb133-9" aria-hidden="true" tabindex="-1"></a>Pacific   California</span>
<span id="cb133-10"><a href="selecting-và-filtering.html#cb133-10" aria-hidden="true" tabindex="-1"></a>Pacific       Hawaii</span></code></pre></div>
<p>Lọc bỏ các dòng nếu tất cả phần tử trong các cột <code>['family_members', 'state_pop']</code> là <code>NA</code></p>
<div class="sourceCode" id="cb134"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb134-1"><a href="selecting-và-filtering.html#cb134-1" aria-hidden="true" tabindex="-1"></a>In []: missing_df.dropna(axis<span class="op">=</span><span class="st">&#39;index&#39;</span>, how<span class="op">=</span><span class="st">&#39;all&#39;</span>, subset<span class="op">=</span>[<span class="st">&#39;family_members&#39;</span>, <span class="st">&#39;state_pop&#39;</span>])</span>
<span id="cb134-2"><a href="selecting-và-filtering.html#cb134-2" aria-hidden="true" tabindex="-1"></a>Out[]:</span>
<span id="cb134-3"><a href="selecting-và-filtering.html#cb134-3" aria-hidden="true" tabindex="-1"></a>               state  individuals  family_members   state_pop</span>
<span id="cb134-4"><a href="selecting-và-filtering.html#cb134-4" aria-hidden="true" tabindex="-1"></a>region                                                       </span>
<span id="cb134-5"><a href="selecting-và-filtering.html#cb134-5" aria-hidden="true" tabindex="-1"></a>Mountain    Colorado          NaN          <span class="fl">3250.0</span>   <span class="fl">5691287.0</span></span>
<span id="cb134-6"><a href="selecting-và-filtering.html#cb134-6" aria-hidden="true" tabindex="-1"></a>Mountain       Idaho       <span class="fl">1297.0</span>           <span class="fl">715.0</span>   <span class="fl">1750536.0</span></span>
<span id="cb134-7"><a href="selecting-và-filtering.html#cb134-7" aria-hidden="true" tabindex="-1"></a>Pacific       Alaska       <span class="fl">1434.0</span>             NaN    <span class="fl">735139.0</span></span>
<span id="cb134-8"><a href="selecting-và-filtering.html#cb134-8" aria-hidden="true" tabindex="-1"></a>Pacific   California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>  <span class="fl">39461588.0</span></span>
<span id="cb134-9"><a href="selecting-và-filtering.html#cb134-9" aria-hidden="true" tabindex="-1"></a>Pacific       Hawaii       <span class="fl">4131.0</span>          <span class="fl">2399.0</span>         NaN</span></code></pre></div>
<p>Giữ lại các dòng có ít nhất <code>3</code> phần tử <code>non-NA</code></p>
<div class="sourceCode" id="cb135"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb135-1"><a href="selecting-và-filtering.html#cb135-1" aria-hidden="true" tabindex="-1"></a>In []: missing_df.dropna(thresh<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb135-2"><a href="selecting-và-filtering.html#cb135-2" aria-hidden="true" tabindex="-1"></a>Out[]: </span>
<span id="cb135-3"><a href="selecting-và-filtering.html#cb135-3" aria-hidden="true" tabindex="-1"></a>               state  individuals  family_members   state_pop</span>
<span id="cb135-4"><a href="selecting-và-filtering.html#cb135-4" aria-hidden="true" tabindex="-1"></a>region                                                       </span>
<span id="cb135-5"><a href="selecting-và-filtering.html#cb135-5" aria-hidden="true" tabindex="-1"></a>Mountain    Colorado          NaN          <span class="fl">3250.0</span>   <span class="fl">5691287.0</span></span>
<span id="cb135-6"><a href="selecting-và-filtering.html#cb135-6" aria-hidden="true" tabindex="-1"></a>Mountain       Idaho       <span class="fl">1297.0</span>           <span class="fl">715.0</span>   <span class="fl">1750536.0</span></span>
<span id="cb135-7"><a href="selecting-và-filtering.html#cb135-7" aria-hidden="true" tabindex="-1"></a>Pacific       Alaska       <span class="fl">1434.0</span>             NaN    <span class="fl">735139.0</span></span>
<span id="cb135-8"><a href="selecting-và-filtering.html#cb135-8" aria-hidden="true" tabindex="-1"></a>Pacific   California     <span class="fl">109008.0</span>         <span class="fl">20964.0</span>  <span class="fl">39461588.0</span></span>
<span id="cb135-9"><a href="selecting-và-filtering.html#cb135-9" aria-hidden="true" tabindex="-1"></a>Pacific       Hawaii       <span class="fl">4131.0</span>          <span class="fl">2399.0</span>         NaN</span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="Chuong-3.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="tính-toán-trên-các-phần-tử-trong-pandas.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "Merriweather",
"size": 4
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"toc_depth": 2,
"scroll_highlight": true
}
});
});
</script>

</body>

</html>
